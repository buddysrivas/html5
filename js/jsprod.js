
function renderVectorText(chars,canvas,fsize,x,y,ftype,weight,style,context,a,frame_num,center){var ctx=canvas.getContext("2d");if(center)
{ctx.textAlign='center';ctx.textBaseline='middle';}
ctx.font=(fsize)+"px "+ftype;ctx.fillText(chars,x,y);}
function processProject(no_animation,jump_to_slide)
{var to_splice=[];$.each(vm_project.sld,function(s_index,value){if(!vm_project.sld[s_index]||!vm_project.sld[s_index]==null)
{to_splice.push(s_index);}
else
if(!vm_project.sld[s_index].n)vm_project.sld[s_index].n="Slide "+(s_index+1);});if(to_splice.length>0)
{var i;for(i=to_splice.length-1;i>=0;i-=1){vm_project.sld.splice(to_splice[i],1);}}
$.each(vm_project.sld,function(index,value){if(!vm_settings.edit_mode)
$("#content_rls").append("<section class='stage stage_slide"+vm_project.sld[index].id+"' style='opacity:0'><article></article></section>");else
addSlideDiv(index);vm_settings.current_slide=index;if(!vm_settings.edit_mode&&!no_animation){if(vm_settings.timeline[index])vm_settings.timeline[index].remove();vm_settings.timeline[index]=new TimelineLite({paused:true,onUpdate:updateSlider,defaultEase:Quad.easeOut,onComplete:complete_animation})}
updateStageRect(vm_project.sld[index].id,index);processSlide(index,0,no_animation);if(vm_settings.thumb=="1")return false;})
if(!no_animation)
{if(!vm_settings.edit_mode){if(!jump_to_slide)jump_to_slide=0;release_change_slide(jump_to_slide);}
else
{changeSlide(0);}}
if(vm_settings.edit_mode)
{$("input[name=i_wc]").val(vm_project.w);$("input[name=i_hc]").val(vm_project.h);if(vm_project.autotransition_dl&&Number(vm_project.autotransition_dl)>=0)
{$(".dur_a").text(parseInt(vm_project.autotransition_dl)/1000);$("#duration").slider("value",parseInt(vm_project.autotransition_dl)/1000);}
if(parseInt(vm_project.autotransition)==1)
{$("input[name=autoplay]").attr("checked","checked").change();}
else
{$("input[name=autoplay]").removeAttr("checked")}
$(".trans_type li").eq((parseInt(vm_project.sld[0].e)+1)).find("a").click();if(vm_project.t=="infographic")
{$("#sgrasp_wrap").show();$("#sgrasp_wrap").css("width",vm_project.w);$('section').resizable({handles:{'s':'#sgrasp_wrap'},stop:function(event,ui){vm_project.h=ui.size.height;$("input[name=i_hc]").val(vm_project.h);$.each(vm_project.sld,function(i,v){updateStageRect(v.id,i);});$(".c_size_table_left li a").eq(0).click();$(".c_size_table_left .jqTransformSelectWrapper span").html($(".c_size_table_left li a").eq(0).text());}});}}
else
{$("#content_rls [data-gotolink]").click(function(){var link=$(this).attr("data-gotolink");if(!/^http:\/\//.test(link)){link='http://'+link}
window.location=link;return false;})
$("#content_rls [data-gotolinkwindow]").click(function(){var link=$(this).attr("data-gotolinkwindow");if(!/^http:\/\//.test(link)){link='http://'+link}
window.open(link,'_blank');return false;})
$("#content_rls [data-gotoslide]").click(function(){var gts=$(this).attr("data-gotoslide");$.each(vm_project.sld,function(i,s){if(s.id==gts)
release_change_slide(i);});return false;})
$("#content_rls [data-popuplayer]").mouseenter(function(){var popup_id=$(this).attr("data-popuplayer");TweenLite.to($("#el"+popup_id+" .drag_trigger"),0.6,{autoAlpha:1});return false;})
$("#content_rls [data-popuplayer]").mouseleave(function(){var popup_id=$(this).attr("data-popuplayer");TweenLite.to($("#el"+popup_id+" .drag_trigger"),0.6,{autoAlpha:0});return false;})}}
function processSlide(index,no_history,no_animation)
{var to_splice=[];$.each(vm_project.sld[index].o,function(o_index,value){if(!vm_project.sld[index].o[o_index]||!vm_project.sld[index].o[o_index].t||vm_project.sld[index].o[o_index].t==undefined)
{to_splice.push(o_index);}});if(to_splice.length>0)
{var i;for(i=to_splice.length-1;i>=0;i-=1){vm_project.sld[index].o.splice(to_splice[i],1);}}
$.each(vm_project.sld[index].o,function(o_index,value){try{var result=window[vm_project.sld[index].o[o_index].t](vm_project.sld[index].o[o_index].id,o_index);}
catch(err){console.log(err,vm_project.sld[index].o[o_index],o_index)}
if(result)vm_Object.updateCSS(o_index,index);if(!vm_settings.edit_mode&&!no_animation)
buildAnimation(vm_project.sld[index].o[o_index],index);});if(!no_history&&vm_settings.edit_mode==1)
{if(!vm_GuiSettings.actions_history[index])vm_GuiSettings.actions_history.push(new vmActionsHistory())
if(!vm_settings.state=="loading")vm_GuiSettings.actions_history[index].add();}}
function finish_loading()
{if(vm_settings.state=="loading")
{if(vm_settings.ajax_request>0)
{vm_settings.ajax_request--;}
if(vm_settings.ajax_request<=0)
{vm_settings.state=0;if(vm_settings.edit_mode)vm_ObjectControls.deselect();$("#qLoverlay").fadeOut(500,function(){$(".c_awesome").text("LOADING...");if(!vm_settings.edit_mode)
autoPlay();});}}
else
{if(vm_settings.edit_mode)
vm_ObjectControls.deselect();$("#qLoverlay").fadeOut(500,function(){$(".c_awesome").text("LOADING...");});}}
function buildAnimation(obj,index)
{TweenLite.killTweensOf($("#content_rls #el"+obj.id));var appear_dl=0;if(obj.anm&&(obj.anm.en||obj.anm.ex))
{if(obj.anm.en)
{var dl=obj.anm.en.dl;appear_dl=dl;var dr=1;switch(obj.anm.en.n)
{case"Fly from Left":vm_settings.timeline[index].from($("#content_rls #el"+obj.id),dr,{css:{x:-obj.w}},dl);break;case"Fly from Right":vm_settings.timeline[index].from($("#content_rls #el"+obj.id),dr,{x:vm_project.w},dl);break;case"Fly from Top":vm_settings.timeline[index].from($("#content_rls #el"+obj.id),dr,{y:-obj.h},dl);break;case"Fly from Bottom":vm_settings.timeline[index].from($("#content_rls #el"+obj.id),dr,{y:vm_project.h},dl);break;case"Fade In":vm_settings.timeline[index].from($("#content_rls #el"+obj.id),dr,{css:{opacity:0}},dl)
break;case"Pop Out":vm_settings.timeline[index].from($("#content_rls #el"+obj.id),dr,{scale:[0,0]},dl);break;case"Custom animation":if(obj.anm.en.a.length>0)
$.each(obj.anm.en.a,function(i,a){dr=Number(a.dr);if(a.dl==undefined)dl=undefined;else dl=Number(a.dl);a.value=Number(a.value);var ease="Quad.easeOut";if(a.ease)ease=a.ease;var debug_id=8;switch(a.param)
{case"x":vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{css:{x:a.value},ease:ease},dl);break;case"y":vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{css:{y:a.value},ease:ease},dl);break;case"scaleX":if(obj.id==debug_id)
{}
if(obj.t!="text")
vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{scaleX:a.value,ease:ease},dl);break;case"scaleY":if(obj.t!="text")
vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{scaleY:a.value,ease:ease},dl);break;case"opacity":if(obj.id==debug_id)
{}
vm_settings.timeline[index].to($("#content_rls #el"+obj.id).find(".drag_trigger"),dr,{opacity:a.value/100,ease:ease},dl);break;case"rotate":if(obj.id==debug_id)
{}
vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{rotation:a.value*(180/Math.PI),ease:ease},dl);break;}});break;default:if(dl>0)
vm_settings.timeline[index].from($("#content_rls #el"+obj.id),0.1,{css:{opacity:0}},dl);break;}}
if(obj.anm.ex)
{dl+=dr+obj.anm.ex.dl;switch(obj.anm.ex.n)
{case"Fly to Left":vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{x:-obj.w},dl);break;case"Fly to Right":vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{x:vm_project.w},dl);break;case"Fly to Top":vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{y:-obj.h},dl);break;case"Fly to Bottom":vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{y:vm_project.h},dl);break;case"Fade Out":vm_settings.timeline[index].fromTo($("#content_rls #el"+obj.id),dr,{css:{opacity:obj.opct/100}},{css:{opacity:0}},dl);break;case"Pop Away":vm_settings.timeline[index].to($("#content_rls #el"+obj.id),dr,{scale:[0,0]},dl);break;}}}
if(obj.e){$("#content_rls #el"+obj.id+" .vm_text").html(wrap($("#content_rls #el"+obj.id+" .vm_text")))
var txt=$("#content_rls #el"+obj.id+" .vm_text .letter");switch(obj.e)
{case"wave":vm_settings.timeline[index].staggerFrom(txt,0.4*1.2,{alpha:0},0.06,appear_dl);vm_settings.timeline[index].staggerFrom(txt,0.8*1.2,{rotationY:"-270deg",top:60,transformOrigin:"50% 50% -80",ease:Back.easeOut},0.06,appear_dl);break;case"impact":$("#content_rls #el"+obj.id+" .vm_text .letter").css("opacity",0)
vm_settings.timeline[index].to(txt,0,{scale:[3,3],rotationY:"-270deg",opacity:0},appear_dl);vm_settings.timeline[index].staggerTo(txt,1,{scale:[1,1],rotationY:0,opacity:1,ease:Back.easeOut},0.06,appear_dl);break;case"typewriter":vm_settings.timeline[index].to(txt,0,{top:-5,opacity:0},appear_dl);vm_settings.timeline[index].staggerTo(txt,0.2,{top:0,opacity:1,ease:Back.easeOut},0.06,appear_dl);break;case"rollin":vm_settings.timeline[index].staggerFrom(txt,1.2,{rotation:180,scale:[0.1,0.1],left:30,opacity:0},0.1,0);break;case"lettersrain":$.each(txt,function(i,v){vm_settings.timeline[index].fromTo(v,0.6,{top:-vm_project.h},{top:0,ease:Back.easeOut},1.5*Math.random());})
break;case"fadeinleft":vm_settings.timeline[index].staggerFrom(txt,0.5,{left:-50,opacity:0,ease:SlowMo.easeOut},0.2,0);break;case"blinkin":var rough=RoughEase.ease.config({strength:2,clamp:true});$.each(txt,function(i,v){vm_settings.timeline[index].from(v,0.6,{autoAlpha:0,ease:rough},1.5*Math.random());})
break;case"randomin":vm_settings.timeline[index].staggerFrom(txt,1.2,{scaleX:0,opacity:0,ease:Quad.easeOut,transformOrigin:"0% 100% 0"},0.2,0);break;case"rotatein":vm_settings.timeline[index].staggerFrom(txt,1.2,{rotation:1960,opacity:0,ease:SlowMo.easeIn},0.2,0);break;}}};(function(window,document,undefined){var j=!0,l=null,m=!1;function n(a){return function(){return this[a]}}var q=this;function r(a,b){var c=a.split("."),d=q;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&void 0!==b?d[e]=b:d=d[e]?d[e]:d[e]={}}function aa(a,b,c){return a.call.apply(a.bind,arguments)}
function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function t(a,b,c){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return t.apply(l,arguments)}var u=Date.now||function(){return+new Date};function v(a,b){this.G=a;this.v=b||a;this.z=this.v.document}v.prototype.createElement=function(a,b,c){a=this.z.createElement(a);if(b)for(var d in b)b.hasOwnProperty(d)&&("style"==d?a.style.cssText=b[d]:a.setAttribute(d,b[d]));c&&a.appendChild(this.z.createTextNode(c));return a};function w(a,b,c){a=a.z.getElementsByTagName(b)[0];a||(a=document.documentElement);a&&a.lastChild&&a.insertBefore(c,a.lastChild)}
function x(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var g=m,f=0;f<d.length;f+=1)if(b[e]===d[f]){g=j;break}g||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){g=m;for(f=0;f<c.length;f+=1)if(d[e]===c[f]){g=j;break}g||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function ca(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return j;return m}
function y(a){var b=a.v.location.protocol;"about:"==b&&(b=a.G.location.protocol);return"https:"==b?"https:":"http:"}function da(a,b){var c=a.createElement("link",{rel:"stylesheet",href:b}),d=m;c.onload=function(){d||(d=j)};c.onerror=function(){d||(d=j)};w(a,"head",c)}
function z(a,b,c,d){var e=a.z.getElementsByTagName("head")[0];if(e){var g=a.createElement("script",{src:b}),f=m;g.onload=g.onreadystatechange=function(){if(!f&&(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState))f=j,c&&c(l),g.onload=g.onreadystatechange=l,"HEAD"==g.parentNode.tagName&&e.removeChild(g)};e.appendChild(g);window.setTimeout(function(){f||(f=j,c&&c(Error("Script load timeout")))},d||5E3);return g}return l};function A(a,b,c){this.M=a;this.U=b;this.Aa=c}r("webfont.BrowserInfo",A);A.prototype.pa=n("M");A.prototype.hasWebFontSupport=A.prototype.pa;A.prototype.qa=n("U");A.prototype.hasWebKitFallbackBug=A.prototype.qa;A.prototype.ra=n("Aa");A.prototype.hasWebKitMetricsBug=A.prototype.ra;function B(a,b,c,d){this.d=a!=l?a:l;this.o=b!=l?b:l;this.aa=c!=l?c:l;this.f=d!=l?d:l}var ea=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;B.prototype.toString=function(){return[this.d,this.o||"",this.aa||"",this.f||""].join("")};function C(a){a=ea.exec(a);var b=l,c=l,d=l,e=l;a&&(a[1]!==l&&a[1]&&(b=parseInt(a[1],10)),a[2]!==l&&a[2]&&(c=parseInt(a[2],10)),a[3]!==l&&a[3]&&(d=parseInt(a[3],10)),a[4]!==l&&a[4]&&(e=/^[0-9]+$/.test(a[4])?parseInt(a[4],10):a[4]));return new B(b,c,d,e)};function D(a,b,c,d,e,g,f,h,k,p,s){this.K=a;this.Ga=b;this.za=c;this.fa=d;this.Ea=e;this.ea=g;this.wa=f;this.Fa=h;this.va=k;this.da=p;this.j=s}r("webfont.UserAgent",D);D.prototype.getName=n("K");D.prototype.getName=D.prototype.getName;D.prototype.oa=n("za");D.prototype.getVersion=D.prototype.oa;D.prototype.ka=n("fa");D.prototype.getEngine=D.prototype.ka;D.prototype.la=n("ea");D.prototype.getEngineVersion=D.prototype.la;D.prototype.ma=n("wa");D.prototype.getPlatform=D.prototype.ma;D.prototype.na=n("va");D.prototype.getPlatformVersion=D.prototype.na;D.prototype.ja=n("da");D.prototype.getDocumentMode=D.prototype.ja;D.prototype.ia=n("j");D.prototype.getBrowserInfo=D.prototype.ia;function E(a,b){this.a=a;this.I=b}var fa=new D("Unknown",new B,"Unknown","Unknown",new B,"Unknown","Unknown",new B,"Unknown",void 0,new A(m,m,m));E.prototype.parse=function(){var a;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){a=F(this);var b=G(this),c=C(b),d=l,e=l,g=l,f=l,h=H(this.a,/Trident\/([\d\w\.]+)/,1),k=I(this.I),d=-1!=this.a.indexOf("MSIE")?H(this.a,/MSIE ([\d\w\.]+)/,1):H(this.a,/rv:([\d\w\.]+)/,1),e=C(d);""!=h?(g="Trident",f=C(h)):(g="Unknown",f=new B,h="Unknown");a=new D("MSIE",e,d,g,f,h,a,c,b,k,new A("Windows"==a&&6<=e.d||"Windows Phone"==a&&8<=c.d,m,m))}else if(-1!=this.a.indexOf("Opera"))a:if(a="Unknown",b=H(this.a,/Presto\/([\d\w\.]+)/,1),c=C(b),d=G(this),e=C(d),g=I(this.I),c.d!==l?a="Presto":(-1!=this.a.indexOf("Gecko")&&(a="Gecko"),b=H(this.a,/rv:([^\)]+)/,1),c=C(b)),-1!=this.a.indexOf("Opera Mini/"))f=H(this.a,/Opera Mini\/([\d\.]+)/,1),h=C(f),a=new D("OperaMini",h,f,a,c,b,F(this),e,d,g,new A(m,m,m));else{if(-1!=this.a.indexOf("Version/")&&(f=H(this.a,/Version\/([\d\.]+)/,1),h=C(f),h.d!==l)){a=new D("Opera",h,f,a,c,b,F(this),e,d,g,new A(10<=h.d,m,m));break a}f=H(this.a,/Opera[\/ ]([\d\.]+)/,1);h=C(f);a=h.d!==l?new D("Opera",h,f,a,c,b,F(this),e,d,g,new A(10<=h.d,m,m)):new D("Opera",new B,"Unknown",a,c,b,F(this),e,d,g,new A(m,m,m))}else/OPR\/[\d.]+/.test(this.a)?a=ga(this):/AppleWeb(K|k)it/.test(this.a)?a=ga(this):-1!=this.a.indexOf("Gecko")?(a="Unknown",b=new B,c="Unknown",d=G(this),e=C(d),g=m,-1!=this.a.indexOf("Firefox")?(a="Firefox",c=H(this.a,/Firefox\/([\d\w\.]+)/,1),b=C(c),g=3<=b.d&&5<=b.o):-1!=this.a.indexOf("Mozilla")&&(a="Mozilla"),f=H(this.a,/rv:([^\)]+)/,1),h=C(f),g||(g=1<h.d||1==h.d&&9<h.o||1==h.d&&9==h.o&&2<=h.aa||f.match(/1\.9\.1b[123]/)!=l||f.match(/1\.9\.1\.[\d\.]+/)!=l),a=new D(a,b,c,"Gecko",h,f,F(this),e,d,I(this.I),new A(g,m,m))):a=fa;return a};function F(a){var b=H(a.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);if(""!=b)return/BB\d{2}/.test(b)&&(b="BlackBerry"),b;a=H(a.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS)/,1);return""!=a?("Mac_PowerPC"==a&&(a="Macintosh"),a):"Unknown"}
function G(a){var b=H(a.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(b||(b=H(a.a,/Windows Phone( OS)? ([^;)]+)/,2))||(b=H(a.a,/(iPhone )?OS ([\d_]+)/,2)))return b;if(b=H(a.a,/(?:Linux|CrOS) ([^;)]+)/,1))for(var b=b.split(/\s/),c=0;c<b.length;c+=1)if(/^[\d\._]+$/.test(b[c]))return b[c];return(a=H(a.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?a:"Unknown"}
function ga(a){var b=F(a),c=G(a),d=C(c),e=H(a.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1),g=C(e),f="Unknown",h=new B,k="Unknown",p=m;/OPR\/[\d.]+/.test(a.a)?f="Opera":-1!=a.a.indexOf("Chrome")||-1!=a.a.indexOf("CrMo")||-1!=a.a.indexOf("CriOS")?f="Chrome":/Silk\/\d/.test(a.a)?f="Silk":"BlackBerry"==b||"Android"==b?f="BuiltinBrowser":-1!=a.a.indexOf("PhantomJS")?f="PhantomJS":-1!=a.a.indexOf("Safari")?f="Safari":-1!=a.a.indexOf("AdobeAIR")&&(f="AdobeAIR");"BuiltinBrowser"==f?k="Unknown":"Silk"==f?k=H(a.a,/Silk\/([\d\._]+)/,1):"Chrome"==f?k=H(a.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=a.a.indexOf("Version/")?k=H(a.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==f?k=H(a.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==f?k=H(a.a,/OPR\/([\d.]+)/,1):"PhantomJS"==f&&(k=H(a.a,/PhantomJS\/([\d.]+)/,1));h=C(k);p="AdobeAIR"==f?2<h.d||2==h.d&&5<=h.o:"BlackBerry"==b?10<=d.d:"Android"==b?2<d.d||2==d.d&&1<d.o:526<=g.d||525<=g.d&&13<=g.o;return new D(f,h,k,"AppleWebKit",g,e,b,d,c,I(a.I),new A(p,536>g.d||536==g.d&&11>g.o,"iPhone"==b||"iPad"==b||"iPod"==b||"Macintosh"==b))}function H(a,b,c){return(a=a.match(b))&&a[c]?a[c]:""}function I(a){if(a.documentMode)return a.documentMode};function ha(a){this.ua=a||"-"}ha.prototype.f=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.ua)};function J(a,b){this.K=a;this.V=4;this.L="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.L=c[1],this.V=parseInt(c[2],10))}J.prototype.getName=n("K");function K(a){return a.L+a.V}function ia(a){var b=4,c="n",d=l;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ka(a,b,c){this.c=a;this.m=b;this.O=c;this.h="wf";this.g=new ha("-")}function M(a){var b=ca(a.m,a.g.f(a.h,"active")),c=[],d=[a.g.f(a.h,"loading")];b||c.push(a.g.f(a.h,"inactive"));x(a.m,c,d);N(a,"inactive")}function N(a,b,c){if(a.O[b])if(c)a.O[b](c.getName(),K(c));else a.O[b]()};function la(){this.w={}};function O(a,b){this.c=a;this.C=b;this.s=this.c.createElement("span",{"aria-hidden":"true"},this.C)}
function P(a,b){var c;c=[];for(var d=b.K.split(/,\s*/),e=0;e<d.length;e++){var g=d[e].replace(/['"]/g,"");-1==g.indexOf(" ")?c.push(g):c.push("'"+g+"'")}c=c.join(",");d="normal";e=b.V+"00";"o"===b.L?d="oblique":"i"===b.L&&(d="italic");a.s.style.cssText="display:block;position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+c+";"+("font-style:"+d+";font-weight:"+e+";")}
function Q(a){w(a.c,"body",a.s)}O.prototype.remove=function(){var a=this.s;a.parentNode&&a.parentNode.removeChild(a)};function ma(a,b,c,d,e,g,f,h){this.W=a;this.sa=b;this.c=c;this.q=d;this.C=h||"BESbswy";this.j=e;this.F={};this.T=g||5E3;this.Z=f||l;this.B=this.A=l;a=new O(this.c,this.C);Q(a);for(var k in R)R.hasOwnProperty(k)&&(P(a,new J(R[k],K(this.q))),this.F[R[k]]=a.s.offsetWidth);a.remove()}var R={Da:"serif",Ca:"sans-serif",Ba:"monospace"};ma.prototype.start=function(){this.A=new O(this.c,this.C);Q(this.A);this.B=new O(this.c,this.C);Q(this.B);this.xa=u();P(this.A,new J(this.q.getName()+",serif",K(this.q)));P(this.B,new J(this.q.getName()+",sans-serif",K(this.q)));na(this)};function oa(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.F[R[d]]&&c===a.F[R[d]])return j;return m}
function na(a){var b=a.A.s.offsetWidth,c=a.B.s.offsetWidth;b===a.F.serif&&c===a.F["sans-serif"]||a.j.U&&oa(a,b,c)?u()-a.xa>=a.T?a.j.U&&oa(a,b,c)&&(a.Z===l||a.Z.hasOwnProperty(a.q.getName()))?S(a,a.W):S(a,a.sa):setTimeout(t(function(){na(this)},a),25):S(a,a.W)}function S(a,b){a.A.remove();a.B.remove();b(a.q)};function T(a,b,c,d){this.c=b;this.t=c;this.P=0;this.ba=this.Y=m;this.T=d;this.j=a.j}function pa(a,b,c,d,e){if(0===b.length&&e)M(a.t);else{a.P+=b.length;e&&(a.Y=e);for(e=0;e<b.length;e++){var g=b[e],f=c[g.getName()],h=a.t,k=g;x(h.m,[h.g.f(h.h,k.getName(),K(k).toString(),"loading")]);N(h,"fontloading",k);(new ma(t(a.ga,a),t(a.ha,a),a.c,g,a.j,a.T,d,f)).start()}}}
T.prototype.ga=function(a){var b=this.t;x(b.m,[b.g.f(b.h,a.getName(),K(a).toString(),"active")],[b.g.f(b.h,a.getName(),K(a).toString(),"loading"),b.g.f(b.h,a.getName(),K(a).toString(),"inactive")]);N(b,"fontactive",a);this.ba=j;qa(this)};T.prototype.ha=function(a){var b=this.t,c=ca(b.m,b.g.f(b.h,a.getName(),K(a).toString(),"active")),d=[],e=[b.g.f(b.h,a.getName(),K(a).toString(),"loading")];c||d.push(b.g.f(b.h,a.getName(),K(a).toString(),"inactive"));x(b.m,d,e);N(b,"fontinactive",a);qa(this)};function qa(a){0==--a.P&&a.Y&&(a.ba?(a=a.t,x(a.m,[a.g.f(a.h,"active")],[a.g.f(a.h,"loading"),a.g.f(a.h,"inactive")]),N(a,"active")):M(a.t))};function U(a){this.G=a;this.u=new la;this.ya=new E(a.navigator.userAgent,a.document);this.a=this.ya.parse();this.Q=this.R=0}
U.prototype.load=function(a){var b=a.context||this.G;this.c=new v(this.G,b);var b=new ka(this.c,b.document.documentElement,a),c=[],d=a.timeout;x(b.m,[b.g.f(b.h,"loading")]);N(b,"loading");var c=this.u,e=this.c,g=[],f;for(f in a)if(a.hasOwnProperty(f)){var h=c.w[f];h&&g.push(h(a[f],e))}c=g;this.Q=this.R=c.length;a=new T(this.a,this.c,b,d);f=0;for(d=c.length;f<d;f++)e=c[f],e.H(this.a,t(this.ta,this,e,b,a))};U.prototype.ta=function(a,b,c,d){var e=this;d?a.load(function(a,b,d){var k=0==--e.R;setTimeout(function(){pa(c,a,b||{},d||l,k)},0)}):(a=0==--this.R,this.Q--,a&&0==this.Q&&M(b),pa(c,[],{},l,a))};function V(a,b){this.c=a;this.e=b;this.k=[]}V.prototype.D=function(a){return y(this.c)+(this.e.api||"//f.fontdeck.com/s/css/js/")+(this.c.v.location.hostname||this.c.G.location.hostname)+"/"+a+".js"};V.prototype.H=function(a,b){var c=this.e.id,d=this.c.v,e=this;c?(d.__webfontfontdeckmodule__||(d.__webfontfontdeckmodule__={}),d.__webfontfontdeckmodule__[c]=function(a,c){for(var d=0,k=c.fonts.length;d<k;++d){var p=c.fonts[d];e.k.push(new J(p.name,ia("font-weight:"+p.weight+";font-style:"+p.style)))}b(a)},z(this.c,this.D(c),function(a){a&&b(m)})):b(m)};V.prototype.load=function(a){a(this.k)};function W(a,b){this.c=a;this.e=b;this.k=[]}W.prototype.D=function(a){var b=y(this.c);return(this.e.api||b+"//use.typekit.net")+"/"+a+".js"};W.prototype.H=function(a,b){var c=this.e.id,d=this.e,e=this.c.v,g=this;c?(e.__webfonttypekitmodule__||(e.__webfonttypekitmodule__={}),e.__webfonttypekitmodule__[c]=function(c){c(a,d,function(a,c,d){for(var f=0;f<c.length;f+=1){var e=d[c[f]];if(e)for(var L=0;L<e.length;L+=1)g.k.push(new J(c[f],e[L]));else g.k.push(new J(c[f]))}b(a)})},z(this.c,this.D(c),function(a){a&&b(m)},2E3)):b(m)};W.prototype.load=function(a){a(this.k)};function X(a,b){this.c=a;this.e=b}X.prototype.load=function(a){var b,c,d=this.e.urls||[],e=this.e.families||[],g=this.e.testStrings||{};b=0;for(c=d.length;b<c;b++)da(this.c,d[b]);d=[];b=0;for(c=e.length;b<c;b++){var f=e[b].split(":");if(f[1])for(var h=f[1].split(","),k=0;k<h.length;k+=1)d.push(new J(f[0],h[k]));else d.push(new J(f[0]))}a(d,g)};X.prototype.H=function(a,b){return b(a.j.M)};function ra(a,b,c){this.N=a?a:b+sa;this.p=[];this.S=[];this.ca=c||""}var sa="//fonts.googleapis.com/css";ra.prototype.f=function(){if(0==this.p.length)throw Error("No fonts to load!");if(-1!=this.N.indexOf("kit="))return this.N;for(var a=this.p.length,b=[],c=0;c<a;c++)b.push(this.p[c].replace(/ /g,"+"));a=this.N+"?family="+b.join("%7C");0<this.S.length&&(a+="&subset="+this.S.join(","));0<this.ca.length&&(a+="&text="+encodeURIComponent(this.ca));return a};function ta(a){this.p=a;this.$=[];this.J={}}
var ua={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},va={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},wa={i:"i",italic:"i",n:"n",normal:"n"},xa=RegExp("^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$");ta.prototype.parse=function(){for(var a=this.p.length,b=0;b<a;b++){var c=this.p[b].split(":"),d=c[0].replace(/\+/g," "),e=["n4"];if(2<=c.length){var g;var f=c[1];g=[];if(f)for(var f=f.split(","),h=f.length,k=0;k<h;k++){var p;p=f[k];if(p.match(/^[\w-]+$/)){p=xa.exec(p.toLowerCase());var s=void 0;if(p==l)s="";else{s=void 0;s=p[1];if(s==l||""==s)s="4";else var ja=va[s],s=ja?ja:isNaN(s)?"4":s.substr(0,1);s=[p[2]==l||""==p[2]?"n":wa[p[2]],s].join("")}p=s}else p="";p&&g.push(p)}0<g.length&&(e=g);3==c.length&&(c=c[2],g=[],c=!c?g:c.split(","),0<c.length&&(c=ua[c[0]])&&(this.J[d]=c))}this.J[d]||(c=ua[d])&&(this.J[d]=c);for(c=0;c<e.length;c+=1)this.$.push(new J(d,e[c]))}};function Y(a,b){this.a=(new E(navigator.userAgent,document)).parse();this.c=a;this.e=b}var ya={Arimo:j,Cousine:j,Tinos:j};Y.prototype.H=function(a,b){b(a.j.M)};Y.prototype.load=function(a){var b=this.c;if("MSIE"==this.a.getName()&&this.e.blocking!=j){var c=t(this.X,this,a),d=function(){b.z.body?c():setTimeout(d,0)};d()}else this.X(a)};Y.prototype.X=function(a){for(var b=this.c,c=new ra(this.e.api,y(b),this.e.text),d=this.e.families,e=d.length,g=0;g<e;g++){var f=d[g].split(":");3==f.length&&c.S.push(f.pop());var h="";2==f.length&&""!=f[1]&&(h=":");c.p.push(f.join(h))}d=new ta(d);d.parse();da(b,c.f());a(d.$,d.J,ya)};function Z(a,b){this.c=a;this.e=b;this.k=[]}Z.prototype.H=function(a,b){var c=this,d=c.e.projectId,e=c.e.version;if(d){var g=c.c.v;z(this.c,c.D(d,e),function(f){if(f)b(m);else{if(g["__mti_fntLst"+d]&&(f=g["__mti_fntLst"+d]()))for(var e=0;e<f.length;e++)c.k.push(new J(f[e].fontfamily));b(a.j.M)}}).id="__MonotypeAPIScript__"+d}else b(m)};Z.prototype.D=function(a,b){var c=y(this.c),d=(this.e.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return c+"//"+d+"/"+a+".js"+(b?"?v="+b:"")};Z.prototype.load=function(a){a(this.k)};var $=new U(q);$.u.w.custom=function(a,b){return new X(b,a)};$.u.w.fontdeck=function(a,b){return new V(b,a)};$.u.w.monotype=function(a,b){return new Z(b,a)};$.u.w.typekit=function(a,b){return new W(b,a)};$.u.w.google=function(a,b){return new Y(b,a)};q.WebFont||(q.WebFont={},q.WebFont.load=t($.load,$),q.WebFontConfig&&$.load(q.WebFontConfig));})(this,document);var fonts_list=['3Dumb','Arch Rival','Archistico','Azoft Sans','Desyrel','Journal','Exo','Slapstick Comic','ST Marie','Tenderness','Trump Town Pro','Kingthings Petrock','Pacifico','Bilbo','Caviar Dreams','Acknowledgement','Economica','Matchbook','Flux','Belligerent Madness','Quickly Wiggle','Amaranth','Greyscale Basic','Linux Biolinum','Lobster Two','Marvel','Open Sans Condensed','Overlock','Quantico','Resagnicto','Titillium','Ubuntu','Web Serveroff','Qarmic Sans','Yew Basturd','Alex Brush','Black Jack','Dancing Script','Grand Hotel','Great Vibes','Italliano','Learning Curve Pro','Rechtman','Tangerine','Rawengulk','Trocchi','Zantroke','BlokLetters','Colaborate','Disco','Enigmatic','Fjord','Garton','Gothic Ultra OT','Hattori Hanzo','Jacques Francois','Junction','Kingthings Calligraphica','Kontrapunkt','Metamorphous','Myndraine','Okolaks','Otama EP','Panefresco','ProFontWindows','Rawengulk Sans','Samba','Daniel','Redressed','Wagnasty','Yellowtail','Silkscreen','Distant Galaxy','Liquidism','Flavors','Headhunter','Forque','Lintsec','Top Secret','Deutch Gothic','New Rocker','1942 Report','Cabinsketch','Arial','Courier New','Georgia','Helvetica','Impact','Times New Roman','Trebuchet MS','Verdana','Josefin Slab','Abril Fatface','Old Standard TT','Vollkorn','Lato','PT Mono','Source Sans Pro','Oswald','Rokkitt'];var vm_Stage=new function(){this.append_new_object=function(el,index,slide_num,aspectRatio,onclick)
{var display="";var c_suffix="";if(!vm_settings.edit_mode)c_suffix="_rls";if(vm_project.sld[slide_num].o[index].hide==1)display="display:none";var interactive_data="";if(!vm_settings.edit_mode){if(Number(vm_project.sld[slide_num].o[index].gotoslide)>=0)
interactive_data+="data-gotoslide='"+vm_project.sld[slide_num].o[index].gotoslide+"' ";if(vm_project.sld[slide_num].o[index].linktype=="Open in new window"&&vm_project.sld[slide_num].o[index].link&&vm_project.sld[slide_num].o[index].link!="http://")
interactive_data+="data-gotolinkwindow='"+vm_project.sld[slide_num].o[index].link+"' ";else
if((vm_project.sld[slide_num].o[index].link)&&vm_project.sld[slide_num].o[index].link!="http://")
interactive_data+="data-gotolink='"+vm_project.sld[slide_num].o[index].link+"' ";if(vm_project.sld[slide_num].o[index].popuplayer)
interactive_data+="data-popuplayer='"+vm_project.sld[slide_num].o[index].popuplayer+"' ";}
$("#content"+c_suffix+" .stage_slide"+vm_project.sld[slide_num].id+" article").append('<div id="el'+vm_project.sld[slide_num].o[index].id+'" '+interactive_data+' style="'+display+';z-index:'+index+';width:'+vm_project.sld[slide_num].o[index].w+'px;height:'+vm_project.sld[slide_num].o[index].h+'px;"class="stage_draggable el"><div id="drag_trigger'+vm_project.sld[slide_num].o[index].id+'" class="drag_trigger" style="opacity:'+vm_project.sld[slide_num].o[index].opct/100+'">'+el+'</div><div class="rotate_ghost"></div><div class="ui-rotatable-handle" style="display:none" id="rotate_handle'+vm_project.sld[slide_num].o[index].id+'"></div></div>');if(vm_settings.edit_mode){vm_ObjectControls.controllable_object($('#el'+vm_project.sld[slide_num].o[index].id),aspectRatio,onclick);if(vm_project.sld[slide_num].o[index].lock==1)Draggable.get($('#el'+vm_project.sld[slide_num].o[index].id)).disable()}
vm_Object.transform(index,slide_num);if(vm_settings.edit_mode&&vm_settings.state!="loading")vm_ObjectControls.select($("#el"+vm_project.sld[slide_num].o[index].id));if(vm_settings.edit_mode)vm_GuiSettings.guides.push(new vm_Guide(vm_project.sld[slide_num].o[index].id,vm_ObjectControls.computeGuidesForElement($("#el"+vm_project.sld[slide_num].o[index].id))));if(vm_settings.edit_mode)
{add_mini_copy($("#content #el"+vm_project.sld[slide_num].o[index].id),slide_num);}}}
function updateStageRect(slide,slide_index)
{setup_background(slide_index);slide_code="_slide"+slide;var c_suffix="";if(!vm_settings.edit_mode)c_suffix="_rls";$("#content"+c_suffix+" .stage"+slide_code).css({"width":vm_project.w,"height":vm_project.h,"marginLeft":-vm_project.w/2,"marginTop":-vm_project.h/2});if(vm_settings.edit_mode)vm_EditorGUI.recalculateUI();}
function setup_background(slide_num)
{var c_suffix="";if(!vm_settings.edit_mode)c_suffix="_rls";var slide="_slide"+vm_project.sld[slide_num].id;if(!vm_project.sld[slide_num].bg)
{if(vm_project.sld[0].bg)
vm_project.sld[slide_num].bg=jQuery.extend(true,{},vm_project.sld[0].bg)
else
{vm_project.sld[slide_num].bg={};vm_project.sld[slide_num].bg.type="solid";vm_project.sld[slide_num].value="white";}}
switch(vm_project.sld[slide_num].bg.type)
{case"gradient":var grad=gradientCSS(vm_project.sld[slide_num].bg.value).split(";");$.each(grad,function(i,v){v=$.trim(v)
if(v!="")
{$("#content"+c_suffix+" .stage"+slide+", #slide"+(slide_num+1)+"").css("background",v);}})
break;case"image":var bgimg=new Image;if(vm_project.sld[slide_num].bg.value.indexOf("http://")!=-1)
bgimg.src=vm_project.sld[slide_num].bg.value;else
bgimg.src=vm_settings.svg_dir+vm_project.sld[slide_num].bg.value;$(bgimg).load(function(){if(this.width>=vm_project.w)
$("#content"+c_suffix+" .stage, [id^=slide]").css("background-size","100% 100%");else
$("#content"+c_suffix+" .stage, [id^=slide]").css("background-size","auto");})
$("#content"+c_suffix+" .stage"+slide+", #slide"+(slide_num+1)+"").css("background","url("+bgimg.src+")");break;case"solid":$("#content"+c_suffix+" .stage"+slide+", #slide"+(slide_num+1)+"").css("background",vm_project.sld[slide_num].bg.value);break;case"transparent":if(!vm_settings.edit_mode)
$("#content"+c_suffix+" .stage"+slide+", #slide"+(slide_num+1)+"").css("background","transparent");else
$("#content"+c_suffix+" .stage"+slide+", #slide"+(slide_num+1)+"").css("background","url(/i/transparent.gif)");break;}}
var gradientCSS=function(grad){var out='',svgX='0%',svgY='100%',webkitDir='left bottom',defDir='top';grad=grad.split(",");if(grad[0]=="h")var orientation='horizontal';if(grad[0]=="r")var orientation='radial';grad.shift();var points=grad;if(orientation=='horizontal'){svgX='100%';svgY='0%';webkitDir='right top';defDir='left';}
var svg='<svg xmlns="http://www.w3.org/2000/svg">'+'<defs>'+'<linearGradient id="gradient" x1="0%" y1="0%" x2="'+svgX+'" y2="'+svgY+'">';var webkitCss='-webkit-gradient(linear, left top, '+webkitDir;var defCss='';$.each(points,function(i,el){points[i]=points[i].split(" ");});$.each(points,function(i,el){webkitCss+=', color-stop('+el[0]+', '+el[1]+')';defCss+=','+el[1]+' '+el[0]+'';svg+='<stop offset="'+el[0]+'" style="stop-color:'+el[1]+';" />';});webkitCss+=')';defCss=defCss.substr(1);if(orientation=='radial')defDir="center";svg+='</linearGradient>'+'</defs>'+'<rect fill="url(#gradient)" height="100%" width="100%" />'+'</svg>';svg=base64(svg);out+='url(data:image/svg+xml;base64,'+svg+');'+'\n';out+=webkitCss+';\n';out+='-moz-linear-gradient('+defDir+','+defCss+');'+'\n';out+='-webkit-linear-gradient('+defDir+','+defCss+');'+'\n';out+='-o-linear-gradient('+defDir+','+defCss+');'+'\n';out+='-ms-linear-gradient('+defDir+','+defCss+');'+'\n';out+='linear-gradient('+defDir+','+defCss+');';if(orientation=='radial')out=out.replace("linear","radial")
return out;};var base64=function(input){var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}
else if(isNaN(chr3)){enc4=64;}
output+=keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4);}
return output;};$(document).ready(function(){if($(".next").length<1)return;$(".next").click(function(){if(vm_settings.current_slide<(vm_project.sld.length-1))
release_change_slide((vm_settings.current_slide+1));else
return false;$(".pause").removeClass("pause");$("#time_slider").slider("value",0);if(vm_settings.current_slide==(vm_project.sld.length-1))$(".next").css("opacity",0.3)
$(".prev").css("opacity",1)
vm_settings.timeline[vm_settings.current_slide].seek(0).pause();return false;})
$(".prev").click(function(){if(vm_settings.current_slide>0)
release_change_slide((vm_settings.current_slide-1));else
return false;$(".pause").removeClass("pause");$("#time_slider").slider("value",0);vm_settings.timeline[vm_settings.current_slide].seek(0).pause();if(vm_settings.current_slide==0)$(".next, .prev").css("opacity",0.3);$(".next").css("opacity",1)
return false;})
$(".play").click(function(){if($(this).hasClass("pause"))
{$(this).removeClass("pause");vm_settings.timeline[vm_settings.current_slide].pause();}
else
{vm_settings.timeline[vm_settings.current_slide].restart();$(this).addClass("pause");}
return false;})
$("#time_slider").slider({value:0,min:0,animate:true,max:100,step:1,range:"min",slide:function(event,ui){vm_settings.timeline[vm_settings.current_slide].pause();vm_settings.timeline[vm_settings.current_slide].progress(ui.value/100);$(".pause").removeClass("pause");}});})
function reset_controls()
{$(".next, .prev").css("opacity",0.3)
if(vm_project.sld.length>1&&vm_settings.current_slide<(vm_project.sld.length-1))
{$(".next").css("opacity",1)}
if(vm_settings.current_slide>0)
$(".prev").css("opacity",1)}
function release_change_slide(index)
{$("#preview_window .stage").css("position","absolute");$(".preview_content").css("overflow","hidden")
var direction=1;if(index<vm_settings.current_slide)direction=-1;TweenLite.to($("#content_rls .stage_slide"+vm_project.sld[index].id),0,{x:0,rotationY:0,autoAlpha:0,y:0,display:"block"});if(vm_project.sld[index].e!=-1)
{var effect=getTransition(vm_project.sld[index].e,direction);TweenLite.to($("#content_rls .stage_slide"+vm_project.sld[vm_settings.current_slide].id),1,effect.current);}
else
{vm_settings.current_slide=index;TweenLite.to($("#content_rls .stage_slide"+vm_project.sld[index].id),0,{autoAlpha:1,onComplete:autoPlay});}
vm_settings.current_slide=index;if(vm_project.sld[index].e!=-1)
TweenLite.fromTo($("#content_rls .stage_slide"+vm_project.sld[index].id),1,effect.from,effect.to);if(vm_settings.timeline[vm_settings.current_slide].totalDuration()==0)
$(".play, .slider_wrap").css("opacity",0.3);else
$(".play, .slider_wrap").css("opacity",1);$("#content_rls .stage_slide_active").removeClass("stage_slide_active");$("#content_rls .stage_slide"+vm_project.sld[index].id).addClass("stage_slide_active");$(".slides_counter span").eq(0).text((vm_settings.current_slide+1));reset_controls()}
function updateSlider()
{if(vm_settings.timeline[vm_settings.current_slide])
$("#time_slider").slider("value",vm_settings.timeline[vm_settings.current_slide].progress()*100);}
function complete_animation(){$(".pause").removeClass("pause");if(!vm_settings.edit_mode)
{if(vm_project.autotransition&&vm_project.autotransition_dl)
{setTimeout(function(){if(vm_settings.current_slide<(vm_project.sld.length-1))
{release_change_slide(vm_settings.current_slide+1);}
else
release_change_slide(0);},vm_project.autotransition_dl);}}}
var auto_play;function autoPlay()
{if(vm_settings.state=="loading")return;$("#content_rls .stage:not(.stage_slide"+vm_project.sld[vm_settings.current_slide].id+")").hide();$("#preview_window .stage").css("position","relative");if(auto_play)clearTimeout(auto_play);if(vm_settings.timeline[vm_settings.current_slide].totalDuration()!=0)auto_play=setTimeout(function(){vm_settings.timeline[vm_settings.current_slide].play();$(".play").addClass("pause")},300);else complete_animation();}
function getTransition(e,direction)
{var e=Number(e);var effect={};switch(e)
{case 0:effect.from={x:vm_project.w*direction,autoAlpha:0,display:"block"};effect.to={x:0,autoAlpha:1,onComplete:autoPlay,ease:Power3.easeOut,display:"block"};effect.current={x:-vm_project.w*direction,autoAlpha:0,ease:Power3.easeOut,display:"block"}
break;case 1:effect.from={autoAlpha:0,display:"block"};effect.to={autoAlpha:1,onComplete:autoPlay,ease:Power3.easeOut};effect.current={autoAlpha:0,ease:Power3.easeOut,display:"block"}
break;case 2:effect.from={rotationY:180,autoAlpha:0,display:"block"};effect.to={rotationY:0,autoAlpha:1,ease:Back.easeOut,onComplete:autoPlay,ease:Power3.easeOut,display:"block"};effect.current={rotationY:180,autoAlpha:0,ease:Power3.easeOut}
break;case 3:effect.from={autoAlpha:0,display:"block",transformPerspective:500,y:100}
effect.to={y:0,autoAlpha:1,ease:Back.easeOut,onComplete:autoPlay,ease:Power3.easeOut,display:"block"};effect.current={autoAlpha:0,display:"block",transformPerspective:500,y:100,ease:Power3.easeOut}
break;}
return effect;}
vm_Object=new function()
{this.transform=function(index,slide,size)
{var el=$("#el"+vm_project.sld[slide].o[index].id)
var el_x=vm_project.sld[slide].o[index].x;var el_y=vm_project.sld[slide].o[index].y;var delay=0;if(vm_settings.edit_mode&&vm_settings.state!=="loading")
delay=0.2
if(vm_project.sld[slide].o[index].r!=0)
TweenLite.to(el.find(".rotate_ghost"),0,{rotation:vm_project.sld[slide].o[index].r});TweenLite.to(el,delay,{rotation:vm_project.sld[slide].o[index].r,x:el_x,y:el_y,onComplete:function(){if(vm_settings.edit_mode){vm_EditorGUI.updatePropWindowPosition();updateTextWindowPos();}}});if(size)
{TweenLite.to(el,delay,{width:vm_project.sld[slide].o[index].w,height:vm_project.sld[slide].o[index].h,onComplete:function(){if(vm_settings.edit_mode){vm_EditorGUI.updatePropWindowPosition();updateTextWindowPos();}}});}}
this.updateCSS=function(index,slide)
{var el=$("#el"+vm_project.sld[slide].o[index].id)
if(vm_project.sld[slide].o[index].opct>=0)
el.find(".drag_trigger").css("opacity",vm_project.sld[slide].o[index].opct/100);if(vm_project.sld[slide].o[index].t=="svgicon"||vm_project.sld[slide].o[index].t=="textwidget")
{if(vm_project.sld[slide].o[index].shadow)
{var sx=vm_project.sld[slide].o[index].shadowx;var sy=vm_project.sld[slide].o[index].shadowy;var sb=vm_project.sld[slide].o[index].shadowblur;var sc=vm_project.sld[slide].o[index].shadowcolor;if(!sc)sc="#000";el.find("svg").css({"-webkit-filter":"drop-shadow("+sx+"px "+sy+"px "+sb+"px "+sc+")","-ms-filter":"progid:DXImageTransform.Microsoft.Dropshadow(OffX="+sx+", OffY="+sy+", Color='"+sc+"')","filter":"progid:DXImageTransform.Microsoft.Dropshadow(OffX="+sx+", OffY="+sy+", Color='"+sc+"')"});el.find(".drag_trigger").css({"filter":"url(\"data:image/svg+xml;utf8,<svg height='0' xmlns='http://www.w3.org/2000/svg'><filter id='drop-shadow'><feGaussianBlur in='SourceAlpha' stdDeviation='"+sb+"'/><feOffset dx='"+sx+"' dy='"+sy+"' result='offsetblur'/><feFlood flood-color='"+sc.replace("#","%23")+"'/><feComposite in2='offsetblur' operator='in'/><feMerge><feMergeNode/><feMergeNode in='SourceGraphic'/></feMerge></filter></svg>#drop-shadow\")"})}
else
{el.find("svg").css({"-webkit-filter":"none","filter":"none","-ms-filter":"none","filter":"none"})
el.find(".drag_trigger").css({"filter":"none"});}}
else if(vm_project.sld[slide].o[index].t=="text")
{if(vm_project.sld[slide].o[index].shadow)
{var sx=vm_project.sld[slide].o[index].shadowx;var sy=vm_project.sld[slide].o[index].shadowy;var sb=vm_project.sld[slide].o[index].shadowblur;var sc=vm_project.sld[slide].o[index].shadowcolor;if(!sc)sc="#000";el.find(".drag_trigger").css("text-shadow",sx+"px "+sy+"px "+sb+"px "+sc)}
else
el.find(".drag_trigger").css("text-shadow","none");}
else
if(vm_project.sld[slide].o[index].shadow)
{var sx=vm_project.sld[slide].o[index].shadowx;var sy=vm_project.sld[slide].o[index].shadowy;var sb=vm_project.sld[slide].o[index].shadowblur;var sc=vm_project.sld[slide].o[index].shadowcolor;if(!sc)sc="#000";el.find(".drag_trigger").css("box-shadow",sx+"px "+sy+"px "+sb+"px "+sc);}
else
{el.find(".drag_trigger").css("box-shadow","none");}
if(vm_project.sld[slide].o[index].borderStyle&&vm_project.sld[slide].o[index].borderStyle!="none")
{el.find(".drag_trigger").css("border",vm_project.sld[slide].o[index].borderStyle+" "+vm_project.sld[slide].o[index].borderSize+"px "+vm_project.sld[slide].o[index].borderColor);}
if(vm_project.sld[slide].o[index].reflection)
{el.find("img").css("-webkit-box-reflect","below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(100-vm_project.sld[slide].o[index].reflectionopacity)+"%, transparent), to(rgba(255,255,255,0.2)))");}
else
{}}}
function svgicon(id,index,params)
{var ajax_params={id:id,sld:vm_settings.current_slide,index:index};vm_project.sld[ajax_params.sld].o[index].u=1;if(params){params=$.parseJSON(params);vm_project.sld[ajax_params.sld].o[index].svg=params[0];vm_project.sld[ajax_params.sld].o[index].n=params[1];vm_project.sld[ajax_params.sld].o[ajax_params.index].w="";vm_project.sld[ajax_params.sld].o[ajax_params.index].h="";}
vm_Stage.append_new_object("<div class='pholder'></div>",ajax_params.index,ajax_params.sld,true);if(vm_settings.state=="loading")vm_settings.ajax_request++;if(vm_project.sld[ajax_params.sld].o[ajax_params.index].svg)
$.ajax({url:vm_settings.svg_dir+vm_project.sld[ajax_params.sld].o[index].svg,type:'POST',dataType:'text',contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:$.proxy(function(data){data=data.split("<svg ver");var el="<svg ver"+data[1];var c_suffix="";if(!vm_settings.edit_mode)c_suffix="_rls";if(!vm_project.sld[this.sld].o[this.index].w){vm_project.sld[this.sld].o[this.index].w=Number($(el).attr("width").replace("px",""));vm_project.sld[this.sld].o[this.index].h=Number($(el).attr("height").replace("px",""));$("#content"+c_suffix+" #el"+this.id).css("width",vm_project.sld[this.sld].o[this.index].w+"px");$("#content"+c_suffix+" #el"+this.id).css("height",vm_project.sld[this.sld].o[this.index].h+"px");}
processSVG(data,this.sld,this.index,this.id)
if(vm_settings.edit_mode)
update_mini_copy(vm_project.sld[this.sld].o[this.index],this.sld)},ajax_params),error:$.proxy(function(data){delete_object(this.index,1,1)},ajax_params)});else
processSVG(vm_project.sld[ajax_params.sld].o[ajax_params.index].image.split("<svg"),ajax_params.sld,ajax_params.index,ajax_params.id)
return false;}
function update_svgicon(si)
{var c_suffix="";if(!vm_settings.edit_mode)c_suffix="_rls";var o=vm_project.sld[si.s].o[si.i];if(vm_project.sld[si.s].o[si.i].c!=false&&vm_project.sld[si.s].o[si.i].c!="false")
{var no_color_defined=0;if($("#content"+c_suffix+" #el"+o.id+" [id^='Color1']").length>0)
$("#content"+c_suffix+" #el"+o.id+" [id^='Color1']").css("fill",vm_project.sld[si.s].o[si.i].c)
else
no_color_defined+=1;if($("#content"+c_suffix+" #el"+o.id+" [id^='Strokecolor1']").length>0)
$("#content"+c_suffix+" #el"+o.id+" [id^='Strokecolor1']").css("stroke",vm_project.sld[si.s].o[si.i].c);else
no_color_defined+=1;if(no_color_defined==2)
{if($("#content"+c_suffix+" #el"+o.id+" [fill]").length>0)
$("#content"+c_suffix+" #el"+o.id+" [fill]").attr("fill",vm_project.sld[si.s].o[si.i].c);else
$("#content"+c_suffix+" #el"+o.id+" g").attr("fill",vm_project.sld[si.s].o[si.i].c);}}
if(vm_project.sld[si.s].o[si.i].color2!=false)
$("#content"+c_suffix+" #el"+o.id+" [id^='Color2']").css("fill",vm_project.sld[si.s].o[si.i].color2)
if(vm_project.sld[si.s].o[si.i].color3!=false)
$("#content"+c_suffix+" #el"+o.id+" [id^='Color3']").css("fill",vm_project.sld[si.s].o[si.i].color3)
var el=$("#content"+c_suffix+" #el"+o.id);if(el.find("[id^='repeat']").length>0)
{var svgwidth=el.find("svg").width();var elwidth=el.width();if(svgwidth!=elwidth)
{var diff=elwidth-vm_project.sld[si.s].o[si.i].base_width;var rwidth=vm_project.sld[si.s].o[si.i].base_repeat;var clones_num=Math.ceil(diff/rwidth);var clone=el.find("[id^='repeat']").clone();clone.attr("id","rclone");var clones_num_created=el.find("[id^='rclone']").length;var x=Number(el.find("[id^='repeat']").first().attr("x"));if(isNaN(x))x=Number(el.find("[id^='repeat']").first().attr("cx"));if(isNaN(x))x=Number(el.find("[id^='repeat']").first().attr("width"));if(isNaN(x))x=vm_project.sld[si.s].o[si.i].base_repeat
if(clones_num<clones_num_created)
el.find("svg").eq(0).find("[id^='rclone']").eq(clones_num).nextAll("[id^='rclone']").remove();if(clones_num){clones_num=clones_num;for(var i=clones_num_created;i<=clones_num;i++)
{var new_clone=clone.clone();new_clone.attr("id","rclone_"+i);new_clone.attr("transform","translate("+(x+i*rwidth)+")");if(el.find("svg").find("[id='rzone']").length>0)
el.find("svg").find("[id='rzone']").append(new_clone);else
{if(el.find("svg").find("[id^='rclone']").length>0)
el.find("svg").find("[id^='rclone']").last().after(new_clone);else
el.find("svg").find("[id^='repeat']").last().after(new_clone);}}}
if(el.find("#alignright").length>0)
{var w=el.find("#alignright").attr("width");el.find("#alignright").attr("transform","translate("+(elwidth-w-(vm_project.sld[si.s].o[si.i].base_width-w))+")");if(el.find("#rzone").length>0)
{el.find("#rzone").attr("width",(elwidth-w));}}}
el.find("svg").eq(0).attr("width",elwidth);if(vm_project.sld[si.s].o[si.i].base_height)
el.find("svg").get(0).setAttribute("viewBox","0 0 "+elwidth+" "+vm_project.sld[si.s].o[si.i].base_height);}}
function processSVG(data,sld,index,id)
{var c_suffix="";if(!vm_settings.edit_mode)c_suffix="_rls";$("#content"+c_suffix+" #el"+id).find(".pholder").replaceWith("<svg ver"+data[1]);vm_Object.updateCSS(index,sld);var el=$("#content"+c_suffix+"  #el"+id+" svg");if(el.find("[id^='repeat']").length<1)
$("#content"+c_suffix+"  #el"+id+" svg").attr("width","100%");else if(vm_settings.edit_mode)
{vm_project.sld[sld].o[index].proplock=0;$("#el"+id).resizable("option","aspectRatio",0);if(!vm_project.sld[sld].o[index].base_width)vm_project.sld[sld].o[index].base_width=Number(el.attr("width").replace("px",""));if(!vm_project.sld[sld].o[index].base_height)vm_project.sld[sld].o[index].base_height=Number(el.attr("height").replace("px",""));if(!vm_project.sld[sld].o[index].base_repeat)vm_project.sld[sld].o[index].base_repeat=Number(el.find("[id^='repeat']").attr("width"));if(isNaN(vm_project.sld[sld].o[index].base_repeat))vm_project.sld[sld].o[index].base_repeat=Number(el.attr("width").replace("px",""));}
if(vm_settings.edit_mode)
$("#content"+c_suffix+" #el"+id+" svg").attr("height","100%");else
$("#content"+c_suffix+" #el"+id+" svg").attr("height",vm_project.sld[sld].o[index].h);if(vm_settings.edit_mode&&vm_project.sld[sld].o[index].svg.indexOf("Shapes")!=-1)
{vm_project.sld[sld].o[index].proplock=0;$("#el"+id).resizable("option","aspectRatio",0);}
el.get(0).setAttribute("preserveAspectRatio","none");el.get(0).setAttribute("overflow","hidden");if(el.find("[id^='Color1']").length>0&&!vm_project.sld[sld].o[index].c)
vm_project.sld[sld].o[index].c=el.find("[id^='Color1']").css("fill");else
if(!vm_project.sld[sld].o[index].c)vm_project.sld[sld].o[index].c=false;if(el.find("[id^='Strokecolor1']").length>0&&!vm_project.sld[sld].o[index].c)
vm_project.sld[sld].o[index].c=el.find("[id^='Strokecolor1']").css("stroke");if(el.find("[id^='Color2']").length>0&&!vm_project.sld[sld].o[index].color2)
vm_project.sld[sld].o[index].color2=el.find("[id^='Color2']").css("fill");if(el.find("[id^='Color3']").length>0&&!vm_project.sld[sld].o[index].color3)
vm_project.sld[sld].o[index].color3=el.find("[id^='Color3']").css("fill");if(vm_settings.state=="loading")finish_loading();else
if(vm_settings.edit_mode)update_panel(vm_project.sld[sld].o[index].t);update_svgicon({s:sld,i:index});}
function text(id,index,params)
{var slide=vm_settings.current_slide;if(!vm_project.sld[slide].o[index].txt)
{vm_project.sld[slide].o[index].n=params;vm_project.sld[slide].o[index].ta="left"
switch(params)
{case"title":vm_project.sld[slide].o[index].txt="<span style='color:#666;'><b>Add a title</b></span>";vm_project.sld[slide].o[index].ff="Trebuchet MS";vm_project.sld[slide].o[index].fs=34;vm_project.sld[slide].o[index].ta="center";break;case"header":vm_project.sld[slide].o[index].txt="<span style='color:#666;'><b>Add a subtitle</b></span>";vm_project.sld[slide].o[index].ff="Trebuchet MS";vm_project.sld[slide].o[index].fs=22;vm_project.sld[slide].o[index].ta="center";break;case"1 column":vm_project.sld[slide].o[index].txt="Add short body of text";vm_project.sld[slide].o[index].ff="Trebuchet MS";vm_project.sld[slide].o[index].fs=14;break;case"list":vm_project.sld[slide].o[index].ff="Arial";vm_project.sld[slide].o[index].fs=12;vm_project.sld[slide].o[index].txt="<ul ><li><span class='fsize20 fsizeselected' style='font-size:20px;'>Click to edit this list text</span></li><li><span class='fsize20 fsizeselected' style='font-size:20px;'>Click to edit this list text</span></li><li><span style='font-size:20px;'>Click to edit this list text</span></li><li><span style='font-size:20px;'>Click to edit this list text</span></li></ul>";break;case"typewriter":case"impact":case"wave":case"blinkin":case"lettersrain":case"rollin":case"fadeinleft":case"randomin":case"rotatein":vm_project.sld[slide].o[index].txt="Animated text";vm_project.sld[slide].o[index].ff="Trebuchet MS";vm_project.sld[slide].o[index].fs=34;vm_project.sld[slide].o[index].e=params;break;}}
if(!vm_project.sld[slide].o[index].ff)vm_project.sld[slide].o[index].ff="";if(!vm_project.sld[slide].o[index].fs)vm_project.sld[slide].o[index].fs="";var text="<div class='vm_text' style='text-align:"+vm_project.sld[slide].o[index].ta+";font-family:"+vm_project.sld[slide].o[index].ff+";font-size:"+vm_project.sld[slide].o[index].fs+"px;'>"+vm_project.sld[slide].o[index].txt+"</div>";if(!vm_project.sld[slide].o[index].w)
{vm_project.sld[slide].o[index].w="auto";vm_project.sld[slide].o[index].h="auto";}
if(vm_settings.pdfmode&&vm_project.sld[slide].o[index].ff=="Trebuchet MS")
vm_project.sld[slide].o[index].w+=5;if(vm_project.sld[slide].o[index].ff&&fonts_list.indexOf(vm_project.sld[slide].o[index].ff)!=-1)
WebFont.load({custom:{families:[vm_project.sld[slide].o[index].ff],urls:[vm_settings.fonts_dir+'/css/'+vm_project.sld[slide].o[index].ff+'.css']}})
vm_Stage.append_new_object(text,index,slide,false,function(e){if(!shiftDown){vm_ObjectControls.select($(this.target));start_text_edit($(this.target));$(this.target).find(".vm_text").focus();}else{if($(e.target).parents(".el").hasClass("selected"))
$(e.target).parents(".el").removeClass("selected");else
$(e.target).parents(".el").addClass("selected");vm_EditorGUI.hidePropWindow();$(".ui-resizable-handle, .ui-rotatable-handle").hide();}});vm_project.sld[slide].o[index].w=$("#el"+id).width();vm_project.sld[slide].o[index].h=$("#el"+id).height();if(vm_settings.edit_mode&&params&&vm_settings.state!="loading"){vm_ObjectControls.select($("#el"+id));start_text_edit($("#el"+id));selectText($("#el"+id).find(".vm_text"));}
return true;}
function wrap(target){var newtarget=$("<div></div>");nodes=target.contents().clone();nodes.each(function(){if(this.nodeType==3){var newhtml="";var text=this.wholeText;for(var i=0;i<text.length;i++){if(text[i]==' ')newhtml+="<span>&nbsp;</span>";else newhtml+="<span class='letter'>"+text[i]+"</span>";}
newtarget.append($(newhtml));}
else{$(this).html(wrap($(this)));newtarget.append($(this));}});return newtarget.html();}
function video(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
if(vm_settings.edit_mode)
{if(params){params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].link="http://www.youtube.com/watch?v=Y7dpJ0oseIA";}
vm_Stage.append_new_object("<img src='i/video_placeholder.jpg' width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' />",index,si.s,true);if(params)window['showPopupVideo']();$("#el"+id).on("dblclick",function(){showPopupVideo();});}
else
{if(vm_settings.pdfmode)
vm_Stage.append_new_object("<a href='"+vm_project.sld[si.s].o[si.i].link+"?autoplay=1' style='display:block;width:"+vm_project.sld[si.s].o[si.i].w+"px;height:"+vm_project.sld[si.s].o[si.i].h+"px;'><img src='/i/v_holder.jpg' width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></a>",index,si.s,true);else
vm_Stage.append_new_object('<iframe style="z-index:9999999;position:absolute;border:'+vm_project.sld[si.s].o[si.i].borderSize+'px '+vm_project.sld[si.s].o[si.i].borderStyle+' '+vm_project.sld[si.s].o[si.i].borderColor+'" id = "video'+this.frame_index+'" src="'+vm_project.sld[si.s].o[si.i].link+'?enablejsapi=1&html5=1" width="'+vm_project.sld[si.s].o[si.i].w+'" height="'+vm_project.sld[si.s].o[si.i].h+'" frameborder="0"   />',index,vm_settings.current_slide);}}
function audio(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
if(vm_settings.edit_mode)
{if(params){params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].x=0;vm_project.sld[si.s].o[si.i].y=-50;}
vm_Stage.append_new_object("<img src='i/audio.png' style='opacity:0.6' width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' />",index,si.s,true);if(params)window['showPopupAudio']();$("#el"+id).on("dblclick",function(){showPopupAudio();});}
else
{vm_Stage.append_new_object('<audio id="audio'+id+'" src="'+vm_project.sld[si.s].o[si.i].link+'"></audio>');$("#audio"+id)[0].play();}}
function image(id,index,params)
{var slide=vm_settings.current_slide;if(params)
{params=$.parseJSON(params);vm_project.sld[slide].o[index].src=params[0];vm_project.sld[slide].o[index].w=params[1];vm_project.sld[slide].o[index].h=params[2];}
if(vm_settings.state=="loading")vm_settings.ajax_request++;var img=new Image;img.src=vm_settings.image_url+vm_project.sld[slide].o[index].src;img.className="el"+id;$(img).addClass(id);$(img).attr("id",slide);vm_Stage.append_new_object($(".loader_code").html(),index,slide,true);$(img).load(function(){$("#"+$(this).attr("class")).find(".loader").replaceWith($(this));if(vm_settings.state=="loading")finish_loading();vm_Object.updateCSS($("#"+$(this).attr("class")).css("z-index"),$(this).attr("id"));if(vm_settings.state=="loading")finish_loading();else
{if(vm_settings.edit_mode)update_panel(vm_project.sld[$(this).attr("id")].o[$("#"+$(this).attr("class")).css("z-index")].t);}
if(vm_settings.edit_mode)
{update_mini_copy(vm_project.sld[$("#"+$(this).attr("class")).parents("section").index("#content section")].o[parseInt($("#"+$(this).attr("class")).css("z-index"))],$("#"+$(this).attr("class")).parents("section").index("#content section"))}});return false;}
function textwidget(id,index,params)
{var ajax_params={id:id,sld:vm_settings.current_slide,index:index};if(params){if(params.indexOf("[")!=-1)
{params=$.parseJSON(params);params=params[0];}
vm_project.sld[ajax_params.sld].o[index].svg=params;vm_project.sld[ajax_params.sld].o[ajax_params.index].w="";vm_project.sld[ajax_params.sld].o[ajax_params.index].h="";vm_project.sld[ajax_params.sld].o[ajax_params.index].u=1;vm_project.sld[ajax_params.sld].o[ajax_params.index].scaleX=1;vm_project.sld[ajax_params.sld].o[ajax_params.index].scaleY=1;}
vm_Stage.append_new_object("<div class='pholder'></div>",ajax_params.index,ajax_params.sld,true);if(vm_settings.state=="loading")vm_settings.ajax_request++;if(vm_project.sld[ajax_params.sld].o[ajax_params.index].svg)
$.ajax({url:vm_project.sld[ajax_params.sld].o[index].svg,type:'POST',dataType:'text',contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:$.proxy(function(data){data=data.split("<svg");var el="<svg"+data[1];var c_suffix="";if(!vm_settings.edit_mode)c_suffix="_rls";if(!vm_project.sld[this.sld].o[this.index].w){vm_project.sld[this.sld].o[this.index].w=Number($(el).attr("width").replace("px",""));vm_project.sld[this.sld].o[this.index].h=Number($(el).attr("height").replace("px",""));vm_project.sld[this.sld].o[this.index].ow=vm_project.sld[this.sld].o[this.index].w;vm_project.sld[this.sld].o[this.index].oh=vm_project.sld[this.sld].o[this.index].h;$("#content"+c_suffix+" #el"+this.id).css("width",vm_project.sld[this.sld].o[this.index].w+"px");$("#content"+c_suffix+" #el"+this.id).css("height",vm_project.sld[this.sld].o[this.index].h+"px");}
processTextwidget(data,this.sld,this.index,this.id)
if(vm_settings.edit_mode)
{var el=$("#content"+c_suffix+" #el"+this.id)
el.find(".svg_text").on("click",function(){var si={s:vm_settings.current_slide,i:Number($(this).parents(".el").css("z-index"))}
if(!vm_project.sld[si.s].o[si.i].drg)
start_svgtext_edit($(this).find(".vm_text"));else
vm_project.sld[si.s].o[si.i].drg=0;})
update_mini_copy(vm_project.sld[this.sld].o[this.index])}
if(vm_settings.state=="loading")finish_loading();else
if(vm_settings.edit_mode)update_panel(vm_project.sld[this.sld].o[this.index].t);},ajax_params),error:$.proxy(function(data){delete_object(this.index,1,1)},ajax_params)});else
processTextwidget(vm_project.sld[ajax_params.sld].o[ajax_params.index].image.split("<svg"),ajax_params.sld,ajax_params.index,ajax_params.id)
return false;}
function processTextwidget(data,sld,index,id)
{var c_suffix="";if(!vm_settings.edit_mode)c_suffix="_rls";$("#content"+c_suffix+" #el"+id).find(".pholder").replaceWith("<svg"+data[1]);$("#content"+c_suffix+" #el"+id+" svg").attr("height","100%");$("#content"+c_suffix+"  #el"+id+" svg").attr("width","100%");vm_Object.updateCSS(index,sld);var el=$("#content"+c_suffix+" #el"+id)
var text_el=el.find("text");var text_lines=1;if(text_el.find("tspan").length>0){text_el=text_el.find("tspan");text_lines=text_el.length;}
if(!vm_project.sld[sld].o[index].txt)
{vm_project.sld[sld].o[index].txt=[];for(i=0;i<text_lines;i++)
{var top=text_el.eq(i).offset().top-el.find("svg").offset().top;var left=text_el.eq(i).offset().left-el.find("svg").offset().left;if(!isNaN(Number(text_el.eq(i).attr("x"))))
left+=Number(text_el.eq(i).attr("x"));var fill=text_el.eq(i).css("fill");var font_family=text_el.eq(i).css("font-family");var font_size=text_el.eq(i).css("font-size");jQuery.each(fonts,function(index,value){if(font_family.toLowerCase().indexOf(value.toLowerCase())!==-1)font_family=value;});if(font_family.toLowerCase().indexOf("italic")!==-1)
var italic="font-style:italic;";else
var italic="";if(font_family.toLowerCase().indexOf("bold")!==-1)
var bold="font-weight:bold;";else
var bold="";if(font_family.toLowerCase().indexOf("light")!==-1&&font_family.toLowerCase().indexOf("lato")!==-1)
var bold="font-weight:300;";else
var bold="";vm_project.sld[sld].o[index].txt[i]={x:left,y:top,txt:"<span style='color:"+fill+";"+bold+italic+";'>"+text_el.eq(i).text()+"</span>",ff:font_family,fs:font_size,w:vm_project.sld[sld].o[index].w-left*2,h:text_el.eq(i).height(),fs_max:font_size};text_el.eq(i).remove();}
if(el.find("[id^='Color1']").length>0&&!vm_project.sld[sld].o[index].c)
vm_project.sld[sld].o[index].c=el.find("[id^='Color1']").css("fill");else
if(!vm_project.sld[sld].o[index].c)vm_project.sld[sld].o[index].c=false;if(el.find("[id^='Color2']").length>0&&!vm_project.sld[sld].o[index].color2)
vm_project.sld[sld].o[index].color2=el.find("[id^='Color2']").css("fill");if(el.find("[id^='Color3']").length>0&&!vm_project.sld[sld].o[index].color3)
vm_project.sld[sld].o[index].color3=el.find("[id^='Color3']").css("fill");}
else
{el.find("text").remove();}
var text_lines=vm_project.sld[sld].o[index].txt.length;for(i=0;i<text_lines;i++)
{var t=vm_project.sld[sld].o[index].txt[i];var scaleX=vm_project.sld[sld].o[index].scaleX;var scaleY=vm_project.sld[sld].o[index].scaleY;t.ff=t.ff.replace(/\'/g,'');if(t.ff&&fonts_list.indexOf(t.ff)!=-1)
WebFont.load({custom:{families:[t.ff],urls:[vm_settings.fonts_dir+'/css/'+t.ff+'.css']}})
el.find(".drag_trigger").append("<div  class='svg_text' style='top:"+t.y*scaleY+"px;left:"+t.x*scaleX+"px;height:"+t.h*scaleY+"px;line-height:"+t.h*scaleY+"px;width:"+t.w*scaleX+"px;'><div class='svg_text_wrap'><div class='vm_text' data-id='"+i+"' style='font-size:"+parseInt(t.fs)*scaleY+"px;' >"+t.txt+"</div></div> </div>");if(t.ff)
{el.find(".drag_trigger .svg_text").last().find(".vm_text").css("font-family",t.ff);}}
update_textwidget({s:sld,i:index});}
function update_textwidget(si)
{vm_project.sld[si.s].o[si.i].scaleX=vm_project.sld[si.s].o[si.i].w/vm_project.sld[si.s].o[si.i].ow;vm_project.sld[si.s].o[si.i].scaleY=vm_project.sld[si.s].o[si.i].h/vm_project.sld[si.s].o[si.i].oh;var text_lines=vm_project.sld[si.s].o[si.i].txt.length;var o=vm_project.sld[si.s].o[si.i];for(i=0;i<text_lines;i++)
{var t=vm_project.sld[si.s].o[si.i].txt[i];var fs=t.fs;if(typeof fs=='string'||fs instanceof String)
fs=Number(fs.replace("px",""));TweenLite.to($("#el"+vm_project.sld[si.s].o[si.i].id).find(".svg_text").eq(i),0,{scale:[o.scaleX,o.scaleY]});$("#el"+vm_project.sld[si.s].o[si.i].id).find(".svg_text").eq(i).css({"top":t.y*o.scaleY,"left":t.x*o.scaleX,"width":t.w*o.scaleX,"height":t.h*o.scaleY,"line-height":(t.h*o.scaleY)+"px"});}
if(vm_project.sld[si.s].o[si.i].c!=false)
$("#el"+o.id+" [id^='Color1']").css("fill",vm_project.sld[si.s].o[si.i].c)
if(vm_project.sld[si.s].o[si.i].color2!=false)
$("#el"+o.id+" [id^='Color2']").css("fill",vm_project.sld[si.s].o[si.i].color2)
if(vm_project.sld[si.s].o[si.i].color3!=false)
$("#el"+o.id+" [id^='Color3']").css("fill",vm_project.sld[si.s].o[si.i].color3)}
function ometer(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c="#00b0d8";vm_project.sld[si.s].o[si.i].text="OMETER";vm_project.sld[si.s].o[si.i].textColor="#000";vm_project.sld[si.s].o[si.i].param1=45;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_ometer({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1
update_ometer(si);}
function update_ometer(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/200,vm_project.sld[si.s].o[si.i].h/200);ctx.save();ctx.translate(0,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(200,0);ctx.lineTo(200,200);ctx.lineTo(0,200);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(-3.167,-1.167);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.save();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();g=ctx.createLinearGradient(36.9351,167.4004,169.4001,34.9354);g.addColorStop(0,"#FFFFFF");g.addColorStop(0.6252,"#FBFBFB");g.addColorStop(1,"#F5F5F5");ctx.fillStyle=g;ctx.beginPath();ctx.arc(103.167,101.167,93.667,0,6.283185307179586,true);ctx.closePath();ctx.shadowColor="#CCC";ctx.shadowOffsetX=0;ctx.shadowOffsetY=0;ctx.shadowBlur=10;ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#dedede";ctx.beginPath();ctx.arc(103.167,101.167,93.667,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.save();ctx.save();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();g=ctx.createLinearGradient(102.8511,171.1006,102.8511,31.2334);g.addColorStop(0,"#F7F7F7");g.addColorStop(0.4251,"#F2F2F2");g.addColorStop(0.9845,"#E1E1E1");g.addColorStop(1,"#E0E0E0");ctx.fillStyle=g;ctx.beginPath();ctx.arc(102.851,101.167,69.934,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#dadbdc";ctx.beginPath();ctx.arc(102.851,101.167,69.934,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.globalAlpha=0.11999999731779099;ctx.save();ctx.fillStyle="#030202";ctx.beginPath();ctx.arc(102.851,101.167,69.934,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#030202";ctx.beginPath();ctx.arc(102.851,101.167,69.934,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=6;ctx.beginPath();var rad=2*Math.PI/100*vm_project.sld[si.s].o[si.i].anim_param1-0.5*Math.PI;if(vm_project.sld[si.s].o[si.i].anim_param1>=100)ctx.arc(102.834,102.167,82.333,0,2*Math.PI,false);else
if(vm_project.sld[si.s].o[si.i].anim_param1>0)
ctx.arc(102.834,102.167,82.333,1.5*Math.PI,rad,false);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();g=ctx.createLinearGradient(109.833,31.2329,109.833,183.1636);g.addColorStop(0,vm_project.sld[si.s].o[si.i].c);g.addColorStop(0.2074,vm_project.sld[si.s].o[si.i].c);g.addColorStop(0.4547,vm_project.sld[si.s].o[si.i].c);g.addColorStop(0.7224,vm_project.sld[si.s].o[si.i].c);g.addColorStop(1,vm_project.sld[si.s].o[si.i].c);ctx.fillStyle=g;var dy=parseFloat(vm_project.sld[si.s].o[si.i].anim_param1);ctx.beginPath();if(vm_project.sld[si.s].o[si.i].anim_param1>0)
ctx.arc(102.851,101.167,69.934,0.5*Math.PI+(dy/32.7),0.5*Math.PI-(dy/32.7),true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.restore();ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;testvar=this.frame_index;var d_ytext=0;if(vm_project.sld[si.s].o[si.i].text)
{d_ytext=10;renderVectorText(String(vm_project.sld[si.s].o[si.i].text),$("#el"+id).find("canvas")[0],12,94-String(vm_project.sld[si.s].o[si.i].text).length*3.2,153-d_ytext,"arial","normal","normal");}
if(vm_project.sld[si.s].o[si.i].anim_param1<10)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],75,78,133-d_ytext,"impact","normal","normal");else
if(vm_project.sld[si.s].o[si.i].anim_param1>=100)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],75,42,133-d_ytext,"impact","normal","normal");else
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],75,60,133-d_ytext,"impact","normal","normal");ctx.scale(1,1);ctx.closePath();ctx.restore();ctx.restore();}
function array(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c="#6cb5b8";vm_project.sld[si.s].o[si.i].textColor="#a39e9e";vm_project.sld[si.s].o[si.i].i_settings1=1;vm_project.sld[si.s].o[si.i].param1=12;vm_project.sld[si.s].o[si.i].text="PEOPLE";vm_project.sld[si.s].o[si.i].icon="male";vm_project.sld[si.s].o[si.i].inarow=12;}
if(vm_settings.pdfmode)
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);update_array(si);if(!vm_settings.pdfmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],2,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Circ.easeIn,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_array({s:s,i:i});}});}
function update_array(si,force_size)
{var w_k=20;if(parseInt(vm_project.sld[si.s].o[si.i].param1)<parseInt(vm_project.sld[si.s].o[si.i].inarow))
var c_w=w_k*parseInt(vm_project.sld[si.s].o[si.i].param1);else
var c_w=w_k*parseInt(vm_project.sld[si.s].o[si.i].inarow);var c_h=44*Math.ceil(parseInt(vm_project.sld[si.s].o[si.i].param1)/parseInt(vm_project.sld[si.s].o[si.i].inarow));var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if(force_size)
{vm_project.sld[si.s].o[si.i].w=c_w;vm_project.sld[si.s].o[si.i].h=c_h;$("#el"+id).css({"width":c_w,"height":c_h})}
var scaleX=vm_project.sld[si.s].o[si.i].w/c_w;var scaleY=vm_project.sld[si.s].o[si.i].h/c_h;if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",c_w*scaleX);$("#el"+id).find("canvas").attr("height",c_h*scaleY)}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(scaleX,scaleY);var row=0;for(i=0;i<parseInt(vm_project.sld[si.s].o[si.i].anim_param1);i++)
{if(i%parseInt(vm_project.sld[si.s].o[si.i].inarow)==0&&i!=0)
{row++;}
if(vm_project.sld[si.s].o[si.i].icon=="male"||(vm_project.sld[si.s].o[si.i].icon=="mix"&&(i%2==0||i==0)))
{ctx.save();ctx.translate(0+(i-row*parseInt(vm_project.sld[si.s].o[si.i].inarow))*20,row*44);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(17,0);ctx.lineTo(17,44);ctx.lineTo(0,44);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(0.795,0.905);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.beginPath();ctx.moveTo(16.189,11.477);ctx.bezierCurveTo(16.189,9.353,14.498,7.631,12.411,7.631);ctx.bezierCurveTo(12.394,7.631,12.379,7.633,12.363,7.633);ctx.lineTo(12.363,7.631);ctx.lineTo(3.865,7.631);ctx.lineTo(3.865,7.635);ctx.bezierCurveTo(3.837,7.635,3.8070000000000004,7.631,3.7790000000000004,7.631);ctx.bezierCurveTo(1.692,7.631,0,9.353,0,11.477);ctx.bezierCurveTo(0,11.505,0.002,11.533,0.003,11.561);ctx.lineTo(0,11.561);ctx.lineTo(0,23.427);ctx.lineTo(0.004,23.427);ctx.bezierCurveTo(0.025,24.178,0.651,24.782,1.425,24.782);ctx.bezierCurveTo(2.198,24.782,2.825,24.178,2.846,23.427);ctx.lineTo(2.85,23.427);ctx.lineTo(2.85,13.745);ctx.lineTo(3.866,13.745);ctx.lineTo(3.866,41.067);ctx.lineTo(3.871,41.067);ctx.bezierCurveTo(3.899,41.909,4.735,42.586,5.7669999999999995,42.586);ctx.bezierCurveTo(6.7989999999999995,42.586,7.635,41.909,7.662999999999999,41.067);ctx.lineTo(7.667999999999999,41.067);ctx.lineTo(7.667999999999999,24.181);ctx.lineTo(8.56,24.181);ctx.lineTo(8.56,41.068);ctx.lineTo(8.566,41.068);ctx.bezierCurveTo(8.593,41.91,9.430000000000001,42.586999999999996,10.462,42.586999999999996);ctx.bezierCurveTo(11.493999999999998,42.586999999999996,12.329,41.91,12.357,41.068);ctx.lineTo(12.363,41.068);ctx.lineTo(12.363,13.745);ctx.lineTo(13.34,13.745);ctx.lineTo(13.34,23.427);ctx.lineTo(13.344,23.427);ctx.bezierCurveTo(13.365,24.178,13.991,24.782,14.764999999999999,24.782);ctx.bezierCurveTo(15.538999999999998,24.782,16.165,24.178,16.186,23.427);ctx.lineTo(16.19,23.427);ctx.lineTo(16.19,11.562);ctx.lineTo(16.188000000000002,11.562);ctx.bezierCurveTo(16.187,11.533,16.189,11.505,16.189,11.477);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.beginPath();ctx.arc(8.094,3.492,3.492,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();}
if(vm_project.sld[si.s].o[si.i].icon=="female"||(vm_project.sld[si.s].o[si.i].icon=="mix"&&i%2!=0&&i!=0))
{ctx.save();ctx.translate(0+(i-row*parseInt(vm_project.sld[si.s].o[si.i].inarow))*20,row*44);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(20,0);ctx.lineTo(20,42);ctx.lineTo(0,42);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(0.383,0.905);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.fillStyle="#d65642";ctx.beginPath();ctx.arc(9.793,3.44,3.44,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#d65642";ctx.beginPath();ctx.moveTo(13.249,40.769);ctx.lineTo(13.249,28.795);ctx.lineTo(18.113,28.795);ctx.lineTo(13.553999999999998,14.313000000000002);ctx.lineTo(13.553999999999998,12.544000000000002);ctx.bezierCurveTo(13.578999999999999,12.548000000000002,13.722999999999999,12.604000000000003,14.034999999999998,13.332000000000003);ctx.bezierCurveTo(14.383,14.143000000000002,16.459,21.400000000000002,17.064999999999998,22.310000000000002);ctx.bezierCurveTo(17.671,23.218000000000004,18.633,23.080000000000002,19.269999999999996,22.520000000000003);ctx.bezierCurveTo(19.756999999999994,22.094000000000005,19.491999999999997,20.837000000000003,19.268999999999995,19.831000000000003);ctx.bezierCurveTo(19.006999999999994,18.906000000000002,16.761999999999993,10.922000000000002,16.459999999999994,10.358000000000002);ctx.bezierCurveTo(16.156999999999993,9.794000000000002,15.756999999999994,9.295000000000002,15.302999999999994,8.871000000000002);ctx.bezierCurveTo(14.848999999999993,8.447000000000003,13.554999999999994,7.820000000000002,13.554999999999994,7.820000000000002);ctx.lineTo(5.99,7.820000000000002);ctx.bezierCurveTo(5.99,7.820000000000002,4.695,8.447000000000003,4.241,8.871000000000002);ctx.bezierCurveTo(3.7869999999999995,9.294000000000002,3.3869999999999996,9.794000000000002,3.085,10.358000000000002);ctx.bezierCurveTo(2.782,10.922000000000002,0.5369999999999999,18.906000000000002,0.2759999999999998,19.831000000000003);ctx.bezierCurveTo(0.051999999999999796,20.837000000000003,-0.2130000000000002,22.094,0.2729999999999998,22.520000000000003);ctx.bezierCurveTo(0.9089999999999998,23.080000000000002,1.8719999999999999,23.218000000000004,2.4779999999999998,22.310000000000002);ctx.bezierCurveTo(3.0839999999999996,21.400000000000002,5.16,14.143000000000002,5.507,13.332000000000003);ctx.bezierCurveTo(5.819999999999999,12.604000000000003,5.9639999999999995,12.549000000000003,5.989,12.544000000000002);ctx.lineTo(5.989,14.313000000000002);ctx.lineTo(1.4290000000000003,28.795);ctx.lineTo(5.989,28.795);ctx.lineTo(5.989,40.769000000000005);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#d65642";ctx.beginPath();ctx.moveTo(9.284,40.769);ctx.lineTo(9.284,28.795);ctx.lineTo(9.955,28.795);ctx.lineTo(9.955,40.769);ctx.fill();ctx.stroke();ctx.restore();ctx.restore();}}
ctx.restore();}
function radial(id,index,params){var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c="#00b0d8";vm_project.sld[si.s].o[si.i].textColor="#662d91";vm_project.sld[si.s].o[si.i].i_settings1=1;vm_project.sld[si.s].o[si.i].param1=45;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_radial({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;update_radial(si);}
function update_radial(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/200,vm_project.sld[si.s].o[si.i].h/200);ctx.save();ctx.translate(0,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(200,0);ctx.lineTo(200,200);ctx.lineTo(0,200);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(6.5,6.5);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;if(vm_project.sld[si.s].o[si.i].radial_stroke)
ctx.lineWidth=20;else
ctx.lineWidth=7;ctx.beginPath();ctx.arc(93.5,93.5,90,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle=vm_project.sld[si.s].o[si.i].textColor;if(vm_project.sld[si.s].o[si.i].radial_stroke)
ctx.lineWidth=20;else
ctx.lineWidth=7;ctx.beginPath();var rad=2*Math.PI/100*vm_project.sld[si.s].o[si.i].anim_param1-0.5*Math.PI;if(vm_project.sld[si.s].o[si.i].anim_param1>=100)ctx.arc(93.5,93.5,90,0,2*Math.PI,false);else
if(vm_project.sld[si.s].o[si.i].anim_param1>0){ctx.strokeStyle="#FFF";ctx.arc(93.5,93.5,90,1.5*Math.PI-0.01*Math.PI,rad+0.01*Math.PI,false);ctx.stroke();ctx.beginPath();ctx.strokeStyle=vm_project.sld[si.s].o[si.i].textColor;ctx.arc(93.5,93.5,90,1.5*Math.PI,rad,false);}
ctx.fill();ctx.stroke();if(vm_project.sld[si.s].o[si.i].radial_stroke){ctx.beginPath();ctx.strokeStyle="#FFF";ctx.lineWidth=3;ctx.arc(93.5,93.5,90,0,6.283185307179586,true);ctx.stroke();}
ctx.restore();ctx.restore();ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;testvar=this.frame_index;var d_ytext=0;if(vm_project.sld[si.s].o[si.i].text){}
if(vm_project.sld[si.s].o[si.i].i_settings1==1)
{if(vm_project.sld[si.s].o[si.i].anim_param1<10)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"%",$("#el"+id).find("canvas")[0],65,58,133-d_ytext-7,"helvetica","normal","normal");else
if(vm_project.sld[si.s].o[si.i].anim_param1>=100)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"%",$("#el"+id).find("canvas")[0],65,19,133-d_ytext-7,"helvetica","normal","normal");else
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"%",$("#el"+id).find("canvas")[0],65,40,133-d_ytext-7,"helvetica","normal","normal");}
ctx.restore();}
function verticalmeter(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c="#add136";vm_project.sld[si.s].o[si.i].textColor="#000";vm_project.sld[si.s].o[si.i].text="TITLE";vm_project.sld[si.s].o[si.i].param1=45;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_verticalmeter({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;update_verticalmeter(si);}
function update_verticalmeter(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/86,vm_project.sld[si.s].o[si.i].h/220);ctx.save();ctx.translate(12,5);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(50,0);ctx.lineTo(50,200);ctx.lineTo(0,200);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(2.417,7.75);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.fillStyle="#c7c8ca";ctx.beginPath();ctx.moveTo(22.583,0.25);ctx.lineTo(26.583,0.25);ctx.quadraticCurveTo(26.583,0.25,26.583,0.25);ctx.lineTo(26.583,180.25);ctx.quadraticCurveTo(26.583,180.25,26.583,180.25);ctx.lineTo(22.583,180.25);ctx.quadraticCurveTo(22.583,180.25,22.583,180.25);ctx.lineTo(22.583,0.25);ctx.quadraticCurveTo(22.583,0.25,22.583,0.25);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(17.583,0.25);ctx.lineTo(31.583,0.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(17.583,45.25);ctx.lineTo(31.583,45.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(17.583,89.25);ctx.lineTo(31.583,89.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(17.583,135.25);ctx.lineTo(31.583,135.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.beginPath();ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=4;ctx.moveTo(24.583,180.25);ctx.lineTo(24.583,180.25-parseInt(vm_project.sld[si.s].o[si.i].anim_param1*2)*0.9);ctx.stroke();ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.583,9.25);ctx.lineTo(29.583,9.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,18.25);ctx.lineTo(29.75,18.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,27.25);ctx.lineTo(29.75,27.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,36.25);ctx.lineTo(29.75,36.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.583,52.25);ctx.lineTo(29.583,52.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,61.25);ctx.lineTo(29.75,61.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,70.25);ctx.lineTo(29.75,70.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,79.25);ctx.lineTo(29.75,79.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#c7c8ca";ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.583,99.25);ctx.lineTo(29.583,99.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,108.25);ctx.lineTo(29.75,108.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,117.25);ctx.lineTo(29.75,117.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.75,126.25);ctx.lineTo(29.75,126.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.458,143.688);ctx.lineTo(29.458,143.688);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.625,152.688);ctx.lineTo(29.625,152.688);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.625,161.688);ctx.lineTo(29.625,161.688);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(19.625,170.688);ctx.lineTo(29.625,170.688);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.strokeStyle="#c7c8ca";ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(17.208,180.25);ctx.lineTo(31.208,180.25);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.beginPath();ctx.save();ctx.translate(0,72-parseInt(vm_project.sld[si.s].o[si.i].anim_param1*2)*0.9);ctx.moveTo(6.683,101.427);ctx.bezierCurveTo(2.992,101.44,0,104.419,0,108.11);ctx.bezierCurveTo(0,111.801,2.992,114.795,6.683,114.793);ctx.bezierCurveTo(9.041,114.792,18.77,108.11000000000001,18.77,108.11000000000001);ctx.bezierCurveTo(18.77,108.11000000000001,9.291,101.417,6.683,101.427);ctx.restore();ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.restore();ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;var d_ytext=0;if(vm_project.sld[si.s].o[si.i].text)
{renderVectorText(String(vm_project.sld[si.s].o[si.i].text),$("#el"+id).find("canvas")[0],12,(40-String(vm_project.sld[si.s].o[si.i].text).length*3.5),(208-d_ytext),"arial","normal","normal");}
if(vm_project.sld[si.s].o[si.i].anim_param1<10)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"",$("#el"+id).find("canvas")[0],8,(34-15),(15.5+180.25-parseInt(vm_project.sld[si.s].o[si.i].anim_param1*2)*0.9),"helvetica","normal","normal");else
if(vm_project.sld[si.s].o[si.i].anim_param1>=100)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"",$("#el"+id).find("canvas")[0],8,(30-15),(15.5+180.25-parseInt(vm_project.sld[si.s].o[si.i].anim_param1*2)*0.9),"helvetica","normal","normal");else
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"",$("#el"+id).find("canvas")[0],8,(32-15),(15.5+180.25-parseInt(vm_project.sld[si.s].o[si.i].anim_param1*2)*0.9),"helvetica","normal","normal");ctx.restore();}
function semicircles(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c="#00b0d8";vm_project.sld[si.s].o[si.i].textColor="#662d91";vm_project.sld[si.s].o[si.i].i_settings1=1;vm_project.sld[si.s].o[si.i].param1=75;vm_project.sld[si.s].o[si.i].param2=55;vm_project.sld[si.s].o[si.i].param3=45;vm_project.sld[si.s].o[si.i].circle2=1;vm_project.sld[si.s].o[si.i].circle3=1;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,false);update_semicircles(si);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_semicircles({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;update_semicircles(si);}
function update_semicircles(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/200,vm_project.sld[si.s].o[si.i].h/50);ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(200,0);ctx.lineTo(200,50);ctx.lineTo(0,50);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(0,3.196);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.fillStyle="#662d91";ctx.beginPath();var rad1=vm_project.sld[si.s].o[si.i].anim_param1/2;ctx.moveTo(rad1,47);ctx.arc(rad1,47,rad1,Math.PI,0,false);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#2099d5";if(vm_project.sld[si.s].o[si.i].circle2)
{ctx.beginPath();var rad2=vm_project.sld[si.s].o[si.i].param2/2;ctx.moveTo(rad1*2+rad2,47);ctx.moveTo(rad2+rad1*2,47);ctx.arc(rad2+rad1*2,47,rad2,Math.PI,0,false);ctx.fill();ctx.stroke();ctx.closePath();}
ctx.restore();ctx.save();ctx.fillStyle="#662d91";if(vm_project.sld[si.s].o[si.i].circle3)
{ctx.beginPath();ctx.moveTo(158,47);var rad3=vm_project.sld[si.s].o[si.i].param3/2;ctx.moveTo(rad3+rad1*2+rad2*2,47);ctx.arc(rad3+rad1*2+rad2*2,47,rad3,Math.PI,0,false);ctx.fill();ctx.closePath();}
ctx.stroke();ctx.restore();ctx.restore();ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;testvar=this.frame_index;var d_ytext=0;if(vm_project.sld[si.s].o[si.i].text)
{ctx.fillStyle="#FFF";}
ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;ctx.fillStyle="#FFF";renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"%",$("#el"+id).find("canvas")[0],parseInt(rad1/2),rad1,53-rad1/2,"helvetica","normal","normal",0,0,0,1);if(vm_project.sld[si.s].o[si.i].circle2)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].param2))+"%",$("#el"+id).find("canvas")[0],parseInt(rad2/2),rad2+rad1*2,53-rad2/2,"helvetica","normal","normal",0,0,0,1);if(vm_project.sld[si.s].o[si.i].circle3)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].param3))+"%",$("#el"+id).find("canvas")[0],parseInt(rad3/2),rad3+rad2*2+rad1*2,53-rad3/2,"helvetica","normal","normal",0,0,0,1);}
function pieceofapie(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c="#6cb5b8";vm_project.sld[si.s].o[si.i].textColor="#FFF";vm_project.sld[si.s].o[si.i].text="TITLE";vm_project.sld[si.s].o[si.i].i_settings1=1;vm_project.sld[si.s].o[si.i].param1=45;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_pieceofapie({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;update_pieceofapie(si);}
function update_pieceofapie(si){var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/145,vm_project.sld[si.s].o[si.i].h/201);ctx.save();render_pieceofapie(ctx,si);ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;ctx.fillStyle="black";var d_ytext=0;renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"%",$("#el"+id).find("canvas")[0],17,20,18,"helvetica","normal","normal");ctx.restore();}
function render_pieceofapie(ctx,si){function drawCake(ctx,color,percent){ctx.fillStyle=ColorLuminance(color,-0.3);ctx.beginPath();ctx.moveTo(65.246329,92.314571);ctx.arc(65.246329,92.314571,62.4130854,1.5*Math.PI-0.01*percent*2*Math.PI,-0.5*Math.PI,false);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();}
function drawFrame(ctx){ctx.fillStyle="rgba(175,177,180,0.75)";ctx.strokeStyle="rgba(125,126,129,0.75)";ctx.lineWidth=1.1666432619094849;ctx.beginPath();ctx.moveTo(134.46562,92.313394);ctx.bezierCurveTo(134.46562,130.54431,103.4749,161.53268,65.246329,161.53268);ctx.bezierCurveTo(27.017761,161.53268,-3.9717873000000026,130.54313,-3.9717873000000026,92.313394);ctx.bezierCurveTo(-3.9717873000000026,54.088331000000004,27.017760999999997,23.097616000000002,65.246329,23.097616000000002);ctx.bezierCurveTo(103.4749,23.097616000000002,134.46562,54.087164,134.46562,92.313394);ctx.closePath();ctx.fill();ctx.stroke();}
function drawFlag(ctx){ctx.fillStyle="rgba(244, 244, 244, 0.75)";ctx.transform(1.1666434,0,0,1.1666434,-10.001,-37.884);ctx.beginPath();ctx.moveTo(65.5,0);ctx.lineTo(48.012,21.527);ctx.lineTo(0,21.527);ctx.lineTo(7.175,10.935);ctx.lineTo(0,0);ctx.lineTo(65.5,0);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(229, 228, 228, 0.75)";ctx.transform(1.1666434,0,0,1.1666434,-10.001,-37.884);ctx.beginPath();ctx.moveTo(65.5,0);ctx.lineTo(65.5,21.527);ctx.lineTo(47.858,21.527);ctx.fill();ctx.stroke();ctx.restore();ctx.save();}
ctx.save();ctx.translate(0,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(145.06351,0);ctx.lineTo(145.06351,200.0145);ctx.lineTo(0,200.0145);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(10.001,37.884);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();if(vm_project.sld[si.s].o[si.i].radial_stroke)
drawFrame(ctx);ctx.restore();ctx.save();var origcolor=vm_project.sld[si.s].o[si.i].c;var newcolor=ColorLuminance(origcolor,parseFloat(vm_project.sld[si.s].o[si.i].anim_param2)*0.07);ctx.fillStyle=newcolor;ctx.transform(1.1666434,0,0,1.1666434,-10.001,-37.884);ctx.beginPath();ctx.arc(64.499001,111.601,53.498001,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();drawCake(ctx,newcolor,parseInt(vm_project.sld[si.s].o[si.i].anim_param1));ctx.fillStyle="#1a1a1a";ctx.transform(1.1666434,0,0,1.1666434,-10.001,-37.884);ctx.beginPath();ctx.arc(64.5,111.603,2.872,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();drawFlag(ctx);ctx.fillStyle="#1a1a1a";ctx.beginPath();ctx.moveTo(64.080856,-10.332556);ctx.lineTo(66.4141425,-10.332556);ctx.quadraticCurveTo(66.4141425,-10.332556,66.4141425,-10.332556);ctx.lineTo(66.4141425,89.51343700000001);ctx.quadraticCurveTo(66.4141425,89.51343700000001,66.4141425,89.51343700000001);ctx.lineTo(64.080856,89.51343700000001);ctx.quadraticCurveTo(64.080856,89.51343700000001,64.080856,89.51343700000001);ctx.lineTo(64.080856,-10.332556);ctx.quadraticCurveTo(64.080856,-10.332556,64.080856,-10.332556);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();}
function linearbar(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c="#ffcd03";vm_project.sld[si.s].o[si.i].textColor="#000";vm_project.sld[si.s].o[si.i].text="PEOPLE";vm_project.sld[si.s].o[si.i].icon="mail";vm_project.sld[si.s].o[si.i].inarow=100;vm_project.sld[si.s].o[si.i].param1=60;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);update_linearbar(si);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_linearbar({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;update_linearbar(si);}
function update_linearbar(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h)
{$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
ctx.setTransform(1,0,0,1,0,0);ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/200,vm_project.sld[si.s].o[si.i].h/24);ctx.save();ctx.translate(0,0);if(!vm_project.sld[si.s].o[si.i].radial_stroke){var val=vm_project.sld[si.s].o[si.i].anim_param1;var maxval=vm_project.sld[si.s].o[si.i].inarow;var maxlength=200-29;var length=maxlength*val/maxval+29;renderSharp(ctx,si,length);}
else{var val=vm_project.sld[si.s].o[si.i].anim_param1;var maxval=vm_project.sld[si.s].o[si.i].inarow;var maxlength=200-29-12;var length=maxlength*val/maxval+29;renderRounded(ctx,si,length);}
ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;var d_ytext=0;ctx.save();if(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)<=9)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],13,8.5,17,"helvetica","normal","normal");else if(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)<=99)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],13,4.5,17,"helvetica","normal","normal");else
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],13,0.5,17,"helvetica","normal","normal");if(vm_project.sld[si.s].o[si.i].text)
{ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;renderVectorText(String(vm_project.sld[si.s].o[si.i].text),$("#el"+id).find("canvas")[0],13,33,17,"helvetica","normal","normal");}
ctx.restore();ctx.restore();}
function renderSharp(ctx,si,length){ctx.save();ctx.translate(0,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(263.79199,0);ctx.lineTo(263.79199,24);ctx.lineTo(0,24);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(0,0);ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(24,0);ctx.lineTo(24,24);ctx.lineTo(0,24);ctx.lineTo(0,0);ctx.closePath();ctx.fill();ctx.restore();ctx.save();ctx.translate(0,0);ctx.save();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.beginPath();ctx.moveTo(29,0);ctx.lineTo(length,0);ctx.lineTo(length,24);ctx.lineTo(29,24);ctx.lineTo(29,0);ctx.closePath();ctx.fill();ctx.restore();ctx.restore();ctx.restore();ctx.save();ctx.fillStyle="#ffffff";ctx.globalAlpha=0.28999999165534973;ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(24,0);ctx.lineTo(24,12);ctx.lineTo(0,12);ctx.lineTo(0,0);ctx.closePath();ctx.fill();ctx.restore();ctx.save();ctx.fillStyle="#ffffff";ctx.globalAlpha=0.28999999165534973;ctx.beginPath();ctx.moveTo(29,0);ctx.lineTo(length,0);ctx.lineTo(length,12);ctx.lineTo(29,12);ctx.lineTo(29,0);ctx.closePath();ctx.fill();ctx.restore();ctx.restore();}
function renderRounded(ctx,si,length){ctx.save();ctx.translate(0,0);ctx.scale(1,1);ctx.translate(0,0);ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.translate(0,0);ctx.save();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.beginPath();ctx.moveTo(29,0);ctx.lineTo(length,0);ctx.arc(length,12,12,-0.5*Math.PI,0.5*Math.PI);ctx.lineTo(29,24);ctx.lineTo(29,0);ctx.closePath();ctx.fill();ctx.restore();ctx.restore();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.translate(0,0);ctx.beginPath();ctx.arc(12,12,12,0,2*Math.PI,true);ctx.closePath();ctx.fill();ctx.restore();ctx.save();ctx.fillStyle="#ffffff";ctx.globalAlpha=0.3;ctx.beginPath();ctx.arc(12,12,12,0,Math.PI,true);ctx.fill();ctx.restore();ctx.save();ctx.fillStyle="#ffffff";ctx.globalAlpha=0.3;ctx.beginPath();ctx.moveTo(29,0);ctx.lineTo(length,0);ctx.arc(length,12,12,-0.5*Math.PI,0);ctx.lineTo(29,12);ctx.lineTo(29,0);ctx.closePath();ctx.fill();ctx.restore();ctx.save();ctx.restore();ctx.restore();}
function gauge(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c=0;vm_project.sld[si.s].o[si.i].textColor="#000";vm_project.sld[si.s].o[si.i].text="DEGREES";vm_project.sld[si.s].o[si.i].param1=50;vm_project.sld[si.s].o[si.i].i_min=0;vm_project.sld[si.s].o[si.i].i_max=100;vm_project.sld[si.s].o[si.i].i_settings1=0;vm_project.sld[si.s].o[si.i].radial_stroke=false;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_gauge({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;update_gauge(si);}
function update_gauge(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");{$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/202,vm_project.sld[si.s].o[si.i].h/202);ctx.save();ctx.translate(0,0);render_gauge(ctx,si);ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;var d_ytext=0;ctx.save();if(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)<=9)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],18,93,143,"helvetica","normal","normal");else if(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)<=99)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],18,90,143,"helvetica","normal","normal");else
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)),$("#el"+id).find("canvas")[0],18,87,143,"helvetica","normal","normal");if(vm_project.sld[si.s].o[si.i].text)
{ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;ctx.textAlign="center";renderVectorText(String(vm_project.sld[si.s].o[si.i].text),$("#el"+id).find("canvas")[0],15,100,173,"helvetica","normal","normal");ctx.textAlign="start";}
ctx.restore();}
function render_gauge(ctx,si){function drawLabel(ctx,si){var id=vm_project.sld[si.s].o[si.i].id;renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].i_min)),$("#el"+id).find("canvas")[0],13,21,98,"helvetica","normal","normal");renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].i_max)),$("#el"+id).find("canvas")[0],13,158,98,"helvetica","normal","normal");}
function drawHand(ctx,si){ctx.translate(100,100);var range=parseInt(vm_project.sld[si.s].o[si.i].i_max)-parseInt(vm_project.sld[si.s].o[si.i].i_min);var valrel=parseInt(vm_project.sld[si.s].o[si.i].anim_param1)-parseInt(vm_project.sld[si.s].o[si.i].i_min);valrel=Math.abs(valrel);var ratio=valrel/range;ratio=Math.min(ratio,1.0);ctx.rotate((ratio-0.5)*Math.PI);g=ctx.createLinearGradient(94.150879,68.208984,106.535645,68.208984);g.addColorStop(0.032967,"#3B3B3B");g.addColorStop(0.261715,"#353535");g.addColorStop(0.563195,"#242424");g.addColorStop(0.90393,"#090909");g.addColorStop(1,"#000000");ctx.fillStyle=g;ctx.strokeStyle="#4d4d4f";ctx.beginPath();ctx.moveTo(1.749512,-70.750488);ctx.lineTo(6.535645,2.183594);ctx.lineTo(3.191895,7.189453);ctx.lineTo(-2.233887,7.175781);ctx.lineTo(-5.849121,2.087891);ctx.lineTo(-0.500488,-70.771484);ctx.fill();ctx.stroke();}
function drawFrame(){g=ctx.createLinearGradient(65.13623,59.277344,117.948776,120.839973);g.addColorStop(0,"#D1D1D1");g.addColorStop(1,"#A6A6A6");ctx.fillStyle=g;ctx.strokeStyle="#a5a7aa";ctx.beginPath();ctx.arc(100.5,100.5,100,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f3f4f4";ctx.globalAlpha=0.8999999761581421;ctx.beginPath();ctx.arc(100.5,100.5,95.239258,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();}
function drawZones(ctx,si){var firstZoneColor="#8dc63f";var lastZoneColor="#ed1c24";if(vm_project.sld[si.s].o[si.i].i_settings1==1){firstZoneColor="#ed1c24";lastZoneColor="#8dc63f";}
ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle=firstZoneColor;ctx.lineWidth=8;ctx.beginPath();ctx.moveTo(68.109375,59.402832);ctx.bezierCurveTo(56.420898,68.838379,48.944336,83.28417999999999,48.944336,99.476562);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle=lastZoneColor;ctx.lineWidth=8;ctx.beginPath();ctx.moveTo(151.888672,99.476563);ctx.bezierCurveTo(151.888672,83.48584,144.59668000000002,69.19824299999999,133.157227,59.757325);ctx.fill();ctx.stroke();ctx.restore();ctx.save();}
ctx.save();ctx.translate(0,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(202,0);ctx.lineTo(202,202);ctx.lineTo(0,202);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(0.666992,0.583984);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();if(vm_project.sld[si.s].o[si.i].radial_stroke)
drawFrame(ctx);ctx.restore();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();g=ctx.createLinearGradient(58.530273,71.368652,120.928581,115.060417);g.addColorStop(0,"#F0F0F0");g.addColorStop(0.259647,"#EBEBEB");g.addColorStop(0.555871,"#DDDDDD");g.addColorStop(0.868948,"#C6C6C6");g.addColorStop(0.978022,"#BDBDBD");ctx.fillStyle=g;ctx.strokeStyle="#86888a";ctx.beginPath();ctx.arc(100.3125,100.625,93.90625,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f3f4f4";ctx.globalAlpha=0.9599999785423279;ctx.beginPath();ctx.arc(100.5,100.5,92.573242,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();g=ctx.createLinearGradient(99.715332,16.381836,99.715332,52.254238);g.addColorStop(0.368132,"#EDEDED");g.addColorStop(1,"#F2F2F2");ctx.fillStyle=g;ctx.strokeStyle="#a5a7aa";ctx.beginPath();ctx.moveTo(11.210938,100.084473);ctx.bezierCurveTo(11.210938,51.205567,50.835938,11.580567000000002,99.715821,11.580567000000002);ctx.bezierCurveTo(148.593751,11.580567000000002,188.219727,51.205567,188.219727,100.084473);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.save();ctx.fillStyle="#fafafa";ctx.beginPath();ctx.moveTo(113.88916,20.965332);ctx.bezierCurveTo(121.373047,21.064941,128.597168,22.227539,135.452148,24.274414);ctx.bezierCurveTo(124.24658199999999,17.98584,111.43994099999999,14.324219,97.790039,14.142578);ctx.bezierCurveTo(53.005858999999994,13.547363,16.204589999999996,50.47168,15.591308999999995,96.61816400000001);ctx.lineTo(32.054199999999994,96.83691400000001);ctx.bezierCurveTo(35.899414,53.827637,71.265137,20.398926,113.88916,20.965332);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#a1a3a6";ctx.beginPath();ctx.moveTo(10.75,100.591309);ctx.lineTo(188.496094,100.591309);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#e0e1e2";ctx.lineWidth=1.5;ctx.beginPath();ctx.moveTo(11.026367,101.422852);ctx.lineTo(188.774414,101.422852);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();g=ctx.createLinearGradient(99.853516,142.013672,99.853516,131.667114);g.addColorStop(0,"#D9D9D9");g.addColorStop(0.506525,"#E6E6E6");g.addColorStop(1,"#EDEDED");ctx.fillStyle=g;ctx.strokeStyle="#9b9da0";ctx.beginPath();ctx.moveTo(147.985352,142.172852);ctx.bezierCurveTo(147.985352,145.304688,145.891602,147.841797,143.31152400000002,147.841797);ctx.lineTo(56.394531,147.841797);ctx.bezierCurveTo(53.813476,147.841797,51.721679,145.30468800000003,51.721679,142.172852);ctx.lineTo(51.721679,127.99804700000001);ctx.bezierCurveTo(51.721679,124.86621100000002,53.813476,122.32910200000002,56.394531,122.32910200000002);ctx.lineTo(143.311523,122.32910200000002);ctx.bezierCurveTo(145.89160099999998,122.32910200000002,147.98535099999998,124.86621100000002,147.98535099999998,127.99804700000001);ctx.lineTo(147.98535099999998,142.172852);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(147.140625,141.580078);ctx.bezierCurveTo(147.140625,144.47363299999998,145.084961,146.81640599999997,142.54882800000001,146.81640599999997);ctx.lineTo(57.15625,146.81640599999997);ctx.bezierCurveTo(54.620117,146.81640599999997,52.564453,144.47363299999998,52.564453,141.58007799999996);ctx.lineTo(52.564453,128.48535099999995);ctx.bezierCurveTo(52.564453,125.59081999999995,54.620117,123.24706999999995,57.15625,123.24706999999995);ctx.lineTo(142.54882800000001,123.24706999999995);ctx.bezierCurveTo(145.08496100000002,123.24706999999995,147.140625,125.59081999999995,147.140625,128.48535099999995);ctx.lineTo(147.140625,141.580078);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();drawZones(ctx,si);ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#fff200";ctx.lineWidth=8;ctx.beginPath();ctx.moveTo(133.157227,59.757324);ctx.bezierCurveTo(124.25976600000001,52.414550999999996,112.85351600000001,48.003417999999996,100.416993,48.003417999999996);ctx.bezierCurveTo(88.180665,48.003417999999996,76.942384,52.272949,68.109376,59.402832);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f7f7f7";ctx.beginPath();ctx.moveTo(144.583008,129.894531);ctx.bezierCurveTo(144.583008,132.995117,143.463867,135.505859,142.083008,135.505859);ctx.lineTo(57.33300800000001,135.505859);ctx.bezierCurveTo(55.952149000000006,135.505859,54.83300800000001,132.995117,54.83300800000001,129.89453099999997);ctx.lineTo(54.83300800000001,129.89453099999997);ctx.bezierCurveTo(54.83300800000001,126.79492199999997,55.952149000000006,124.28222599999997,57.33300800000001,124.28222599999997);ctx.lineTo(142.083008,124.28222599999997);ctx.bezierCurveTo(143.463867,124.282227,144.583008,126.794922,144.583008,129.894531);ctx.lineTo(144.583008,129.894531);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();drawLabel(ctx,si);drawHand(ctx,si);ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#939598";ctx.beginPath();ctx.moveTo(181.583008,98.136719);ctx.lineTo(186.895508,98.134766);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#919396";ctx.beginPath();ctx.moveTo(17.684082,99.428223);ctx.lineTo(12.684082,99.362793);ctx.bezierCurveTo(12.688965,99.019043,12.695312,98.67627,12.704102,98.333496);ctx.lineTo(17.702149,98.458496);ctx.bezierCurveTo(17.694336,98.781738,17.687988,99.10498,17.684082,99.428223);ctx.lineTo(17.684082,99.428223);ctx.closePath();ctx.moveTo(180.561523,89.754395);ctx.bezierCurveTo(180.528808,89.432129,180.49414,89.11084,180.45800699999998,88.79052800000001);ctx.lineTo(185.42577999999997,88.225098);ctx.bezierCurveTo(185.46484299999997,88.565918,185.50097499999998,88.907715,185.53613199999998,89.249512);ctx.lineTo(180.561523,89.754395);ctx.lineTo(180.561523,89.754395);ctx.closePath();ctx.moveTo(18.505859,88.791016);ctx.lineTo(13.555664,88.087891);ctx.bezierCurveTo(13.604004,87.746582,13.654297,87.40625,13.707519,87.065918);ctx.lineTo(18.647949,87.835449);ctx.bezierCurveTo(18.598633,88.15332,18.55127,88.472168,18.505859,88.791016);ctx.lineTo(18.505859,88.791016);ctx.closePath();ctx.moveTo(178.796875,79.243652);ctx.bezierCurveTo(178.72168,78.927734,178.64502,78.612793,178.566895,78.298339);ctx.lineTo(183.418458,77.089355);ctx.bezierCurveTo(183.501466,77.421386,183.582032,77.753906,183.66113399999998,78.087402);ctx.lineTo(178.796875,79.243652);ctx.lineTo(178.796875,79.243652);ctx.closePath();ctx.moveTo(20.695313,78.358398);ctx.lineTo(15.879883,77.01171799999999);ctx.bezierCurveTo(15.972168,76.68163999999999,16.065918,76.35253799999998,16.16211,76.02392499999999);ctx.lineTo(20.961914999999998,77.42333899999998);ctx.bezierCurveTo(20.871582,77.734375,20.782715,78.045898,20.695313,78.358398);ctx.lineTo(20.695313,78.358398);ctx.closePath();ctx.moveTo(175.65332,69.063965);ctx.bezierCurveTo(175.537597,68.762695,175.419922,68.461914,175.300293,68.16211);ctx.lineTo(179.943848,66.308594);ctx.bezierCurveTo(180.071289,66.62793,180.196778,66.948242,180.320313,67.269043);ctx.lineTo(175.65332,69.063965);ctx.lineTo(175.65332,69.063965);ctx.closePath();ctx.moveTo(24.229492,68.292969);ctx.lineTo(19.630859,66.329102);ctx.bezierCurveTo(19.766113,66.01318400000001,19.902343000000002,65.698243,20.041015,65.383301);ctx.lineTo(24.617187,67.397949);ctx.bezierCurveTo(24.486328,67.695313,24.356934,67.993652,24.229492,68.292969);ctx.lineTo(24.229492,68.292969);ctx.closePath();ctx.moveTo(171.165039,59.408691);ctx.bezierCurveTo(171.009766,59.126464,170.852539,58.845214,170.693848,58.565428999999995);ctx.lineTo(175.043457,56.099608999999994);ctx.bezierCurveTo(175.21191399999998,56.39697199999999,175.378906,56.69579999999999,175.54394499999998,56.994628999999996);ctx.lineTo(171.165039,59.408691);ctx.lineTo(171.165039,59.408691);ctx.closePath();ctx.moveTo(29.047363,58.770508);ctx.lineTo(24.742675000000002,56.227539);ctx.bezierCurveTo(24.917968000000002,55.930664,25.094726,55.635254,25.273437,55.34082);ctx.lineTo(29.545898,57.937988000000004);ctx.bezierCurveTo(29.37793,58.214355,29.211914,58.492188,29.047363,58.770508);ctx.lineTo(29.047363,58.770508);ctx.closePath();ctx.moveTo(165.407715,50.463867);ctx.bezierCurveTo(165.215332,50.205566,165.02148499999998,49.948242,164.825684,49.692871000000004);ctx.lineTo(168.79638699999998,46.653808000000005);ctx.bezierCurveTo(169.00488299999998,46.926757,169.211426,47.200683000000005,169.41650399999997,47.475585);ctx.lineTo(165.407715,50.463867);ctx.lineTo(165.407715,50.463867);ctx.closePath();ctx.moveTo(35.058594,49.957031);ctx.lineTo(31.121094,46.875976);ctx.bezierCurveTo(31.332031999999998,46.606445,31.544434,46.33789,31.757324,46.0708);ctx.lineTo(35.663574,49.19287);ctx.bezierCurveTo(35.460449,49.446289,35.258789,49.701172,35.058594,49.957031);ctx.lineTo(35.058594,49.957031);ctx.closePath();ctx.moveTo(158.48291,42.384766);ctx.bezierCurveTo(158.255371,42.153809,158.026367,41.923339999999996,157.796387,41.694825);ctx.lineTo(161.32080100000002,38.14795);ctx.bezierCurveTo(161.563477,38.389161,161.804199,38.631348,162.04443400000002,38.875001000000005);ctx.lineTo(158.48291,42.384766);ctx.lineTo(158.48291,42.384766);ctx.closePath();ctx.moveTo(42.158691,41.992188);ctx.lineTo(38.648925,38.430665);ctx.bezierCurveTo(38.892576999999996,38.190919,39.137206,37.952638,39.3833,37.714845);ctx.lineTo(42.855956,41.312501);ctx.bezierCurveTo(42.622559,41.537598,42.389648,41.76416,42.158691,41.992188);ctx.lineTo(42.158691,41.992188);ctx.closePath();ctx.moveTo(150.518066,35.311523);ctx.bezierCurveTo(150.26123,35.112793,150.003906,34.916015,149.744628,34.720703);ctx.lineTo(152.756347,30.729492);ctx.bezierCurveTo(153.030761,30.936523,153.303222,31.145019,153.574706,31.354492);ctx.lineTo(150.518066,35.311523);ctx.lineTo(150.518066,35.311523);ctx.closePath();ctx.moveTo(50.222168,35.010254);ctx.lineTo(47.199707000000004,31.026856000000002);ctx.bezierCurveTo(47.472656,30.819825,47.74707,30.614258000000003,48.021973,30.410645000000002);ctx.lineTo(50.997559,34.4292);ctx.bezierCurveTo(50.738281,34.621094,50.479492,34.814941,50.222168,35.010254);ctx.lineTo(50.222168,35.010254);ctx.closePath();ctx.moveTo(141.668945,29.370605);ctx.bezierCurveTo(141.38720700000002,29.208007000000002,141.104004,29.046875,140.820312,28.887207);ctx.lineTo(143.27246,24.529785);ctx.bezierCurveTo(143.571776,24.698242,143.869628,24.868164,144.166991,25.039551);ctx.lineTo(141.668945,29.370605);ctx.lineTo(141.668945,29.370605);ctx.closePath();ctx.moveTo(59.115234,29.128906);ctx.lineTo(56.632812,24.789062);ctx.bezierCurveTo(56.930175,24.618652,57.228027000000004,24.451171000000002,57.527343,24.284667000000002);ctx.lineTo(59.958007,28.653808);ctx.bezierCurveTo(59.67627,28.810547,59.39502,28.969238,59.115234,29.128906);ctx.lineTo(59.115234,29.128906);ctx.closePath();ctx.moveTo(132.098633,24.65625);ctx.bezierCurveTo(131.799317,24.532715,131.499512,24.410645,131.198242,24.290527);ctx.lineTo(133.051758,19.646972);ctx.bezierCurveTo(133.369629,19.773925000000002,133.687012,19.902831000000003,134.003906,20.033202000000003);ctx.lineTo(132.098633,24.65625);ctx.lineTo(132.098633,24.65625);ctx.closePath();ctx.moveTo(68.689941,24.452637);ctx.lineTo(66.79248,19.82666);ctx.bezierCurveTo(67.108398,19.697265,67.424316,19.569824,67.741699,19.443847);ctx.lineTo(69.587402,24.090331000000003);ctx.bezierCurveTo(69.287598,24.209473,68.988281,24.330078,68.689941,24.452637);ctx.lineTo(68.689941,24.452637);ctx.closePath();ctx.moveTo(121.997559,21.236328);ctx.bezierCurveTo(121.68457099999999,21.152344,121.371094,21.070312,121.05712899999999,20.990234);ctx.lineTo(122.29345699999999,16.145507000000002);ctx.bezierCurveTo(122.62597699999999,16.230468000000002,122.95703099999999,16.317382000000002,123.28759799999999,16.405273);ctx.lineTo(121.997559,21.236328);ctx.lineTo(121.997559,21.236328);ctx.closePath();ctx.moveTo(78.793945,21.061523);ctx.lineTo(77.517578,16.227539);ctx.bezierCurveTo(77.848633,16.140137,78.18066400000001,16.054687,78.513183,15.970703);ctx.lineTo(79.734863,20.819336);ctx.bezierCurveTo(79.419922,20.898438,79.106445,20.979004,78.793945,21.061523);ctx.lineTo(78.793945,21.061523);ctx.closePath();ctx.moveTo(111.530762,19.135254);ctx.bezierCurveTo(111.210449,19.091797,110.88964899999999,19.050293,110.56836,19.010254);ctx.lineTo(111.183594,14.04834);ctx.bezierCurveTo(111.524414,14.090332,111.864746,14.134765999999999,112.20459,14.181153);ctx.lineTo(111.530762,19.135254);ctx.lineTo(111.530762,19.135254);ctx.closePath();ctx.moveTo(89.260254,19.016602);ctx.lineTo(88.621582,14.057617999999998);ctx.bezierCurveTo(88.96191400000001,14.013672999999997,89.303223,13.972168999999997,89.644531,13.932129999999997);ctx.lineTo(90.222656,18.898926999999997);ctx.bezierCurveTo(89.900879,18.936035,89.580078,18.975586,89.260254,19.016602);ctx.lineTo(89.260254,19.016602);ctx.closePath();ctx.moveTo(100.878418,18.351074);ctx.lineTo(99.903809,18.344238);ctx.lineTo(99.91113299999999,13.344238);ctx.bezierCurveTo(100.25292999999999,13.344726000000001,100.59472699999999,13.347168,100.937012,13.351074);ctx.lineTo(100.878418,18.351074);ctx.lineTo(100.878418,18.351074);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#797a7d";ctx.beginPath();ctx.moveTo(161.520508,38.728516);ctx.lineTo(152.083008,47.999512);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#797a7d";ctx.beginPath();ctx.moveTo(39.011719,38.17334);ctx.lineTo(47.645508,46.853516);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#797a7d";ctx.beginPath();ctx.moveTo(100.416504,12.853516);ctx.lineTo(100.416504,24.853516);ctx.fill();ctx.stroke();ctx.restore();ctx.restore();}
function ColorLuminance(hex,lum)
{hex=String(hex).replace(/[^0-9a-f]/gi,'');if(hex.length<6)
{hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];}
lum=lum||0;var rgb="#",c,i;for(i=0;i<3;i++)
{c=parseInt(hex.substr(i*2,2),16);c=Math.round(Math.min(Math.max(0,c+(c*lum)),255)).toString(16);rgb+=("00"+c).substr(c.length);}
return rgb;}
function ribbon(id,index,params)
{var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].c="#662d91";vm_project.sld[si.s].o[si.i].textColor="#FFF";vm_project.sld[si.s].o[si.i].text="TITLE";vm_project.sld[si.s].o[si.i].i_settings1=1;vm_project.sld[si.s].o[si.i].param1=45;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_ribbon({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;update_ribbon(si);}
function update_ribbon(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/200,vm_project.sld[si.s].o[si.i].h/15);ctx.save();ctx.translate(0,-20);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(200,0);ctx.lineTo(200,50);ctx.lineTo(0,50);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(0,19.966);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.fillStyle=ColorLuminance(vm_project.sld[si.s].o[si.i].c,-0.3);ctx.beginPath();ctx.moveTo(0,3.734);ctx.lineTo(68.375,3.734);ctx.quadraticCurveTo(68.375,3.734,68.375,3.734);ctx.lineTo(68.375,15.044);ctx.quadraticCurveTo(68.375,15.044,68.375,15.044);ctx.lineTo(0,15.044);ctx.quadraticCurveTo(0,15.044,0,15.044);ctx.lineTo(0,3.734);ctx.quadraticCurveTo(0,3.734,0,3.734);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].c;ctx.beginPath();ctx.rect(62.265,0.534,parseInt(vm_project.sld[si.s].o[si.i].anim_param1),12);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle=ColorLuminance(vm_project.sld[si.s].o[si.i].c,-0.6);;ctx.beginPath();ctx.moveTo(62.255,12.834);ctx.lineTo(68.255,12.834);ctx.lineTo(68.255,15.039);ctx.fill();ctx.stroke();ctx.closePath();ctx.restore();ctx.restore();ctx.translate(0,-20);ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;var d_ytext=0;if(vm_project.sld[si.s].o[si.i].text)
{renderVectorText(String(vm_project.sld[si.s].o[si.i].text),$("#el"+id).find("canvas")[0],10,2,33-d_ytext,"arial","normal","normal");}
ctx.fillStyle="#000";if(vm_project.sld[si.s].o[si.i].temp_canvas)
if(vm_project.sld[si.s].o[si.i].anim_param1<10)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"%",$("#el"+id).find("canvas")[0],12,58+parseInt(vm_project.sld[si.s].o[si.i].anim_param1)+7+5,31,"helvetica","normal","normal");else
if(vm_project.sld[si.s].o[si.i].anim_param1>=100)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"%",$("#el"+id).find("canvas")[0],12,19+parseInt(vm_project.sld[si.s].o[si.i].anim_param1)+40+7,31,"helvetica","normal","normal");else
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1))+"%",$("#el"+id).find("canvas")[0],12,40+parseInt(vm_project.sld[si.s].o[si.i].anim_param1)+20+7,31,"helvetica","normal","normal");ctx.restore();}
function extendDDial(digits,si){var width=15+digits*40.5;vm_project.sld[si.s].o[si.i].w=width;vm_project.sld[si.s].o[si.i].i_digits=digits;vm_project.sld[si.s].o[si.i].sw=width;$("#el"+vm_project.sld[si.s].o[si.i].id).css("width",width);update_digitaldial(si)}
function digitaldial(id,index,params){var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].sw=params[0];vm_project.sld[si.s].o[si.i].sh=params[1];vm_project.sld[si.s].o[si.i].c="#ea1d25";vm_project.sld[si.s].o[si.i].textColor="#a39e9e";vm_project.sld[si.s].o[si.i].i_digits=4;vm_project.sld[si.s].o[si.i].param1=10;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);if(!vm_settings.staticmode)
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_digitaldial({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1;update_digitaldial(si);}
function update_digitaldial(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/vm_project.sld[si.s].o[si.i].sw,vm_project.sld[si.s].o[si.i].h/vm_project.sld[si.s].o[si.i].sh);render_dd(ctx,si);ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;ctx.fillStyle="black";var digits=vm_project.sld[si.s].o[si.i].i_digits;var realdigits=(""+Math.floor(vm_project.sld[si.s].o[si.i].anim_param1)).length;var i=0;for(i=0;i<digits-realdigits;i++)
renderDigit(ctx,si,i,0);for(var j=0;j<realdigits;j++){var number=parseInt(vm_project.sld[si.s].o[si.i].anim_param1);var n=getNthDigit(number,j+1);renderDigit(ctx,si,i,n);i++;if(i>=digits)
break;}
ctx.restore();ctx.restore();}
function renderLeft(ctx,si){ctx.save();ctx.translate(0,0);ctx.fillStyle="#ffffff";ctx.fillRect(2,2,5,72);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(8.1091423,0);ctx.lineTo(8.1091423,79.1875);ctx.lineTo(0,79.1875);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.translate(-201,-143);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.translate(-1,-0.34375);ctx.beginPath();ctx.moveTo(200.81781,141.38202);ctx.lineTo(210.1091422,141.38202);ctx.quadraticCurveTo(210.1091422,141.38202,210.1091422,141.38202);ctx.lineTo(210.1091422,223.36436600000002);ctx.quadraticCurveTo(210.1091422,223.36436600000002,210.1091422,223.36436600000002);ctx.lineTo(200.81781,223.36436600000002);ctx.quadraticCurveTo(200.81781,223.36436600000002,200.81781,223.36436600000002);ctx.lineTo(200.81781,141.38202);ctx.quadraticCurveTo(200.81781,141.38202,200.81781,141.38202);ctx.closePath();ctx.clip();ctx.save();g=ctx.createLinearGradient(314.9238,218.72169,314.9238,148.18311);g.addColorStop(0.0165,"#808080");g.addColorStop(0.1209,"#D9D9D9");g.addColorStop(0.3407,"#FFFFFF");g.addColorStop(0.6538,"#FFFFFF");g.addColorStop(0.8791,"#E0E0E0");g.addColorStop(1,"#828282");ctx.fillStyle=g;ctx.beginPath();ctx.moveTo(208.5376,148.1826);ctx.lineTo(421.3096,148.1826);ctx.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826);ctx.lineTo(421.3096,218.721701);ctx.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701);ctx.lineTo(208.5376,218.721701);ctx.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701);ctx.lineTo(208.5376,148.1826);ctx.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(250.8174,147.5322);ctx.lineTo(250.8174,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(249.9502,148.3989);ctx.lineTo(249.9502,217.7813);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(251.6841,148.3989);ctx.lineTo(251.6841,217.7813);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(296.92679,147.5313);ctx.lineTo(296.92679,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(296.0596,148.3989);ctx.lineTo(296.0596,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(297.7944,148.3989);ctx.lineTo(297.7944,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(342.89261,147.5313);ctx.lineTo(342.89261,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(342.02539,148.3989);ctx.lineTo(342.02539,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(343.75879,148.3989);ctx.lineTo(343.75879,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#d5d7d8";ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(424.9658,213.2412);ctx.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879);ctx.lineTo(209.4419,217.0879);ctx.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412);ctx.lineTo(205.24020000000002,152.8662);ctx.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195);ctx.lineTo(420.7656,149.0195);ctx.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662);ctx.lineTo(424.9658,213.2412);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#757679";ctx.lineWidth=3;ctx.beginPath();ctx.moveTo(423.7383,214.6025);ctx.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625);ctx.lineTo(210.3398,218.625);ctx.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025);ctx.lineTo(206.1796,151.43359999999998);ctx.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997);ctx.lineTo(419.5791,147.41019999999997);ctx.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998);ctx.lineTo(423.7383,214.6025);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#c4c4c4";ctx.lineWidth=4;ctx.beginPath();ctx.moveTo(425.7559,216.2891);ctx.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274);ctx.lineTo(208.3281,220.5274);ctx.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891);ctx.lineTo(204.0898,149.74609999999998);ctx.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998);ctx.lineTo(421.5176,145.50879999999998);ctx.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998);ctx.lineTo(425.7559,216.2891);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#ea1d25";ctx.lineWidth=4;ctx.beginPath();ctx.moveTo(341.8877,145.5088);ctx.lineTo(421.5176,145.5088);ctx.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461);ctx.lineTo(425.7559,216.28910000000002);ctx.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003);ctx.lineTo(341.8877,220.52740000000003);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#858585";ctx.beginPath();ctx.moveTo(427.4902,148.2632);ctx.lineTo(427.4902,217.48340000000002);ctx.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002);ctx.lineTo(206.8003,221.89260000000002);ctx.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002);ctx.lineTo(202.49949999999998,148.2632);ctx.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854);ctx.lineTo(423.1885,143.854);ctx.fill();ctx.stroke();ctx.restore();ctx.restore();}
function renderRegularUnitDD(ctx,si,step){ctx.save();ctx.translate(8+(step-1)*40,0);ctx.translate(0,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(41.719906,0);ctx.lineTo(41.719906,79.1875);ctx.lineTo(0,79.1875);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.translate(-201,-143);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();ctx.translate(-9.6557007,-0.34375);ctx.beginPath();ctx.moveTo(210.6557,137.19182);ctx.lineTo(252.375606,137.19182);ctx.quadraticCurveTo(252.375606,137.19182,252.375606,137.19182);ctx.lineTo(252.375606,224.82183300000003);ctx.quadraticCurveTo(252.375606,224.82183300000003,252.375606,224.82183300000003);ctx.lineTo(210.6557,224.82183300000003);ctx.quadraticCurveTo(210.6557,224.82183300000003,210.6557,224.82183300000003);ctx.lineTo(210.6557,137.19182);ctx.quadraticCurveTo(210.6557,137.19182,210.6557,137.19182);ctx.closePath();ctx.clip();ctx.save();g=ctx.createLinearGradient(314.9238,218.72169,314.9238,148.18311);g.addColorStop(0.0165,"#808080");g.addColorStop(0.1209,"#D9D9D9");g.addColorStop(0.3407,"#FFFFFF");g.addColorStop(0.6538,"#FFFFFF");g.addColorStop(0.8791,"#E0E0E0");g.addColorStop(1,"#828282");ctx.fillStyle=g;ctx.beginPath();ctx.moveTo(208.5376,148.1826);ctx.lineTo(421.3096,148.1826);ctx.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826);ctx.lineTo(421.3096,218.721701);ctx.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701);ctx.lineTo(208.5376,218.721701);ctx.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701);ctx.lineTo(208.5376,148.1826);ctx.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(250.8174,147.5322);ctx.lineTo(250.8174,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(249.9502,148.3989);ctx.lineTo(249.9502,217.7813);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(251.6841,148.3989);ctx.lineTo(251.6841,217.7813);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(296.92679,147.5313);ctx.lineTo(296.92679,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(296.0596,148.3989);ctx.lineTo(296.0596,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(297.7944,148.3989);ctx.lineTo(297.7944,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(342.89261,147.5313);ctx.lineTo(342.89261,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(342.02539,148.3989);ctx.lineTo(342.02539,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(343.75879,148.3989);ctx.lineTo(343.75879,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#d5d7d8";ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(424.9658,213.2412);ctx.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879);ctx.lineTo(209.4419,217.0879);ctx.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412);ctx.lineTo(205.24020000000002,152.8662);ctx.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195);ctx.lineTo(420.7656,149.0195);ctx.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662);ctx.lineTo(424.9658,213.2412);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#757679";ctx.lineWidth=3;ctx.beginPath();ctx.moveTo(423.7383,214.6025);ctx.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625);ctx.lineTo(210.3398,218.625);ctx.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025);ctx.lineTo(206.1796,151.43359999999998);ctx.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997);ctx.lineTo(419.5791,147.41019999999997);ctx.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998);ctx.lineTo(423.7383,214.6025);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#c4c4c4";ctx.lineWidth=4;ctx.beginPath();ctx.moveTo(425.7559,216.2891);ctx.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274);ctx.lineTo(208.3281,220.5274);ctx.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891);ctx.lineTo(204.0898,149.74609999999998);ctx.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998);ctx.lineTo(421.5176,145.50879999999998);ctx.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998);ctx.lineTo(425.7559,216.2891);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#ea1d25";ctx.lineWidth=4;ctx.beginPath();ctx.moveTo(341.8877,145.5088);ctx.lineTo(421.5176,145.5088);ctx.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461);ctx.lineTo(425.7559,216.28910000000002);ctx.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003);ctx.lineTo(341.8877,220.52740000000003);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#858585";ctx.beginPath();ctx.moveTo(427.4902,148.2632);ctx.lineTo(427.4902,217.48340000000002);ctx.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002);ctx.lineTo(206.8003,221.89260000000002);ctx.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002);ctx.lineTo(202.49949999999998,148.2632);ctx.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854);ctx.lineTo(423.1885,143.854);ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();}
function renderRight(ctx,si,position){ctx.save();ctx.translate(8+(position-1)*40,0);ctx.fillStyle="#ffffff";ctx.fillRect(40,5,5,70);ctx.save();ctx.translate(0,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(47.266228,0);ctx.lineTo(47.266228,79.1875);ctx.lineTo(0,79.1875);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(-201,-143);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.save();ctx.restore();ctx.restore();ctx.save();ctx.transform(-1,0,0,1,450.26623,-0.34375);ctx.beginPath();ctx.moveTo(193.70395,134.32486);ctx.lineTo(249.26622899999998,134.32486);ctx.quadraticCurveTo(249.26622899999998,134.32486,249.26622899999998,134.32486);ctx.lineTo(249.26622899999998,233.663475);ctx.quadraticCurveTo(249.26622899999998,233.663475,249.26622899999998,233.663475);ctx.lineTo(193.70395,233.663475);ctx.quadraticCurveTo(193.70395,233.663475,193.70395,233.663475);ctx.lineTo(193.70395,134.32486);ctx.quadraticCurveTo(193.70395,134.32486,193.70395,134.32486);ctx.closePath();ctx.clip();ctx.save();g=ctx.createLinearGradient(314.9238,218.72169,314.9238,148.18311);g.addColorStop(0.0165,"#808080");g.addColorStop(0.1209,"#D9D9D9");g.addColorStop(0.3407,"#FFFFFF");g.addColorStop(0.6538,"#FFFFFF");g.addColorStop(0.8791,"#E0E0E0");g.addColorStop(1,"#828282");ctx.fillStyle=g;ctx.beginPath();ctx.moveTo(208.5376,148.1826);ctx.lineTo(421.3096,148.1826);ctx.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826);ctx.lineTo(421.3096,218.721701);ctx.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701);ctx.lineTo(208.5376,218.721701);ctx.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701);ctx.lineTo(208.5376,148.1826);ctx.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(250.8174,147.5322);ctx.lineTo(250.8174,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(249.9502,148.3989);ctx.lineTo(249.9502,217.7813);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(251.6841,148.3989);ctx.lineTo(251.6841,217.7813);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(296.92679,147.5313);ctx.lineTo(296.92679,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(296.0596,148.3989);ctx.lineTo(296.0596,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(297.7944,148.3989);ctx.lineTo(297.7944,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#7d7e81";ctx.beginPath();ctx.moveTo(342.89261,147.5313);ctx.lineTo(342.89261,218.35941);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(342.02539,148.3989);ctx.lineTo(342.02539,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#f1f2f2";ctx.beginPath();ctx.moveTo(343.75879,148.3989);ctx.lineTo(343.75879,217.7803);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#d5d7d8";ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(424.9658,213.2412);ctx.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879);ctx.lineTo(209.4419,217.0879);ctx.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412);ctx.lineTo(205.24020000000002,152.8662);ctx.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195);ctx.lineTo(420.7656,149.0195);ctx.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662);ctx.lineTo(424.9658,213.2412);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#757679";ctx.lineWidth=3;ctx.beginPath();ctx.moveTo(423.7383,214.6025);ctx.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625);ctx.lineTo(210.3398,218.625);ctx.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025);ctx.lineTo(206.1796,151.43359999999998);ctx.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997);ctx.lineTo(419.5791,147.41019999999997);ctx.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998);ctx.lineTo(423.7383,214.6025);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=4;ctx.beginPath();ctx.moveTo(425.7559,216.2891);ctx.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274);ctx.lineTo(208.3281,220.5274);ctx.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891);ctx.lineTo(204.0898,149.74609999999998);ctx.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998);ctx.lineTo(421.5176,145.50879999999998);ctx.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998);ctx.lineTo(425.7559,216.2891);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle=vm_project.sld[si.s].o[si.i].c;ctx.lineWidth=4;ctx.beginPath();ctx.moveTo(341.8877,145.5088);ctx.lineTo(421.5176,145.5088);ctx.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461);ctx.lineTo(425.7559,216.28910000000002);ctx.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003);ctx.lineTo(341.8877,220.52740000000003);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#858585";ctx.beginPath();ctx.moveTo(427.4902,148.2632);ctx.lineTo(427.4902,217.48340000000002);ctx.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002);ctx.lineTo(206.8003,221.89260000000002);ctx.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002);ctx.lineTo(202.49949999999998,148.2632);ctx.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854);ctx.lineTo(423.1885,143.854);ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();}
function render_dd(ctx,si){renderLeft(ctx,si);var digits=vm_project.sld[si.s].o[si.i].i_digits;var i=1;for(i=1;i<digits;i++)
renderRegularUnitDD(ctx,si,i);renderRight(ctx,si,digits);}
function getNthDigit(number,n){var num=number,digits=0;do{num/=10;digits++;}while(num>=1);num=number/Math.pow(10,(digits-n));num-=num%1;return(num%10);}
function renderDigit(ctx,si,position,number){ctx.restore();ctx.save();var id=vm_project.sld[si.s].o[si.i].id;renderVectorText(String(number),$("#el"+id).find("canvas")[0],60,(10+position*40),60,"helvetica","normal","normal");}
function extendDD(digits){var si=vm_EditorGUI.getSI();if(vm_project.sld[si.s].o[si.i].t=="digitaldial"){extendDDial(digits,si);return false;}
digits=parseInt(digits);var extra=0;if(!(vm_project.sld[si.s].o[si.i].text==""))
if(vm_project.sld[si.s].o[si.i].radial_stroke==0)
extra=6;else
extra=5;var width=1+(digits+extra)*22;extend(width,digits);}
function extend(width,digits){var si=vm_EditorGUI.getSI();vm_project.sld[si.s].o[si.i].w=width;vm_project.sld[si.s].o[si.i].sw=width;vm_project.sld[si.s].o[si.i].i_digits=digits;$("#el"+vm_project.sld[si.s].o[si.i].id).css("width",width);update_led(si)}
function extendForText(){var si=vm_EditorGUI.getSI();var digits=parseInt(vm_project.sld[si.s].o[si.i].i_digits);var extra=0;if(vm_project.sld[si.s].o[si.i].radial_stroke==0)
extra=6;else
extra=5;var width=1+(digits+extra)*22;extend(width,digits);}
function shrinkForNoText(){var si=vm_EditorGUI.getSI();var digits=parseInt(vm_project.sld[si.s].o[si.i].i_digits);var width=1+(digits)*22;extend(width,digits);}
function led(id,index,params){var si={s:vm_settings.current_slide,i:index}
vm_project.sld[si.s].o[si.i].u=1;vm_project.sld[si.s].o[si.i].anim_param1=0;vm_project.sld[si.s].o[si.i].time_step=0;if(params)
{params=$.parseJSON(params);vm_project.sld[si.s].o[si.i].w=params[0];vm_project.sld[si.s].o[si.i].h=params[1];vm_project.sld[si.s].o[si.i].sw=params[0];vm_project.sld[si.s].o[si.i].sh=params[1];vm_project.sld[si.s].o[si.i].c="#fff";vm_project.sld[si.s].o[si.i].textColor="#000";vm_project.sld[si.s].o[si.i].i_settings1=0;vm_project.sld[si.s].o[si.i].param1=90;vm_project.sld[si.s].o[si.i].i_digits=8;vm_project.sld[si.s].o[si.i].i_max=100;}
vm_Stage.append_new_object("<div class='canvas_div' ><canvas width=' "+vm_project.sld[si.s].o[si.i].w+"' height=' "+vm_project.sld[si.s].o[si.i].h+"' /></div>",index,si.s,true);if(!vm_settings.staticmode&&!vm_settings.state=="loading")
TweenLite.to(vm_project.sld[si.s].o[si.i],1,{anim_param1:vm_project.sld[si.s].o[si.i].param1,repeat:0,ease:Bounce.easeOut,autoCSS:false,onUpdateParams:[si.s,si.i],onUpdate:function(s,i){update_led({s:s,i:i});}});else
vm_project.sld[si.s].o[si.i].anim_param1=vm_project.sld[si.s].o[si.i].param1
update_led(si);}
function update_led(si)
{var id=vm_project.sld[si.s].o[si.i].id;var ctx=$("#el"+id).find("canvas")[0].getContext("2d");var digits=vm_project.sld[si.s].o[si.i].i_digits;if($("#el"+id).find("canvas").width()!=vm_project.sld[si.s].o[si.i].w||$("#el"+id).find("canvas").height()!=vm_project.sld[si.s].o[si.i].h){$("#el"+id).find("canvas").attr("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find("canvas").attr("height",vm_project.sld[si.s].o[si.i].h)}
else
ctx.clearRect(0,0,vm_project.sld[si.s].o[si.i].w,vm_project.sld[si.s].o[si.i].h);ctx.save();ctx.scale(vm_project.sld[si.s].o[si.i].w/vm_project.sld[si.s].o[si.i].sw,vm_project.sld[si.s].o[si.i].h/23);ctx.save();render_led(ctx,si);ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;ctx.fillStyle="black";ctx.restore();ctx.restore();}
function renderRegularUnit(ctx,si,i,color,bright){ctx.save();ctx.translate((i-1)*22,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(23,0);ctx.lineTo(23,23);ctx.lineTo(0,23);ctx.closePath();ctx.clip();ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.translate(-363.5,-520.875);ctx.save();if(color=="green"){if(bright)
ctx.fillStyle="#8dc63f";else
ctx.fillStyle="#19793B";}
if(color=="yellow"){if(bright)
ctx.fillStyle="#ffe040";else
ctx.fillStyle="#685700";}
if(color=="red"){if(bright)
ctx.fillStyle="#e84125";else
ctx.fillStyle="#6A0000";}
ctx.strokeStyle="#50483e";ctx.beginPath();ctx.moveTo(364,521.36218);ctx.lineTo(386,521.36218);ctx.quadraticCurveTo(386,521.36218,386,521.36218);ctx.lineTo(386,543.36218);ctx.quadraticCurveTo(386,543.36218,386,543.36218);ctx.lineTo(364,543.36218);ctx.quadraticCurveTo(364,543.36218,364,543.36218);ctx.lineTo(364,521.36218);ctx.quadraticCurveTo(364,521.36218,364,521.36218);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#ffffff";if(bright)
ctx.globalAlpha=0.3499999940395355;else
ctx.globalAlpha=0.1;ctx.beginPath();ctx.moveTo(364.48541,521.87286);ctx.lineTo(385.48541,521.87286);ctx.quadraticCurveTo(385.48541,521.87286,385.48541,521.87286);ctx.lineTo(385.48541,532.87286);ctx.quadraticCurveTo(385.48541,532.87286,385.48541,532.87286);ctx.lineTo(364.48541,532.87286);ctx.quadraticCurveTo(364.48541,532.87286,364.48541,532.87286);ctx.lineTo(364.48541,521.87286);ctx.quadraticCurveTo(364.48541,521.87286,364.48541,521.87286);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();}
function renderBall(ctx,si,i,color,bright){ctx.save();ctx.translate((i-1)*22,0);if(bright){ctx.save();g=ctx.createLinearGradient(71.311996,97.857399,77.288597,97.857399);g.addColorStop(0,"#FFFFFF");g.addColorStop(1,"#FFFFFF");ctx.fillStyle=g;ctx.strokeStyle="#ffffff";ctx.translate(298.7948,432.30681);ctx.globalAlpha=0.1600000113248825;ctx.beginPath();ctx.arc(74.300301,97.857399,2.9883001,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.restore();}
ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(23,0);ctx.lineTo(23,23);ctx.lineTo(0,23);ctx.closePath();ctx.clip();ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.translate(-363.5,-520.875);ctx.save();ctx.translate(298.7948,432.30681);ctx.save();g=ctx.createRadialGradient(74.098602,97.076202,0,74.098602,97.076202,10.8811);if(bright){if(color=="green"){g.addColorStop(0.2747,"#B0D235");g.addColorStop(0.7802,"#39B54A");}
if(color=="yellow"){g.addColorStop(0.2747,"#F8E527");g.addColorStop(0.7802,"#FEBE2D");}
if(color=="red"){g.addColorStop(0.2747,"#EA8235");g.addColorStop(0.7802,"#ED1C24");}
ctx.shadowOffsetX=0;ctx.shadowOffsetY=0;ctx.shadowBlur=5;ctx.shadowColor='rgba(255, 255, 255, 1)';}else{if(color=="green"){g.addColorStop(0.2747,"#1C8444");g.addColorStop(0.7802,"#04622F");}
if(color=="yellow"){g.addColorStop(0.2747,"#847A1B");g.addColorStop(0.7802,"#685925");}
if(color=="red"){g.addColorStop(0.2747,"#8B1C1F");g.addColorStop(0.7802,"#690B0C");}}
ctx.fillStyle=g;ctx.beginPath();ctx.arc(76.191399,100.2979,8.0010004,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";if(bright){if(color=="green"){ctx.strokeStyle="#6c8259";}
if(color=="yellow"){ctx.strokeStyle="#93681f";}
if(color=="red"){ctx.strokeStyle="#884d1a";}}else{if(color=="green"){ctx.strokeStyle="#6c8259";}
if(color=="yellow"){ctx.strokeStyle="#93681f";}
if(color=="red"){ctx.strokeStyle="#884d1a";}}
ctx.beginPath();ctx.moveTo(84.1919,100.2959);ctx.bezierCurveTo(84.1919,104.7168,80.6108,108.2988,76.1914,108.2988);ctx.bezierCurveTo(71.77250000000001,108.2988,68.1914,104.7168,68.1914,100.2959);ctx.bezierCurveTo(68.1914,95.8789,71.77250000000001,92.29690000000001,76.1914,92.29690000000001);ctx.bezierCurveTo(80.6108,92.29690000000001,84.1919,95.8789,84.1919,100.2959);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.save();if(bright){g=ctx.createLinearGradient(71.311996,97.857399,77.288597,97.857399);g.addColorStop(0,"#FFFFFF");g.addColorStop(1,"#FFFFFF");ctx.fillStyle=g;ctx.strokeStyle="#ffffff";ctx.translate(298.7948,432.30681);ctx.globalAlpha=0.1600000113248825;ctx.beginPath();ctx.arc(74.300301,97.857399,2.9883001,0,6.283185307179586,true);ctx.closePath();ctx.fill();}
ctx.restore();}
function render_led(ctx,si){var id=vm_project.sld[si.s].o[si.i].id;var digits=parseInt(vm_project.sld[si.s].o[si.i].i_digits);var value=parseInt(vm_project.sld[si.s].o[si.i].anim_param1);var max=parseInt(vm_project.sld[si.s].o[si.i].i_max);var i=1;var goodSteps=digits/(max/value);for(i=1;i<=digits;i++){var bright=true;if(i>goodSteps)
bright=false;var color;if(vm_project.sld[si.s].o[si.i].i_settings1==0){if(i<=Math.floor(digits*0.333+1))
color="green";else if(i<=Math.floor(digits*0.666+1))
color="yellow";else
color="red";}else{if(i<=Math.floor(digits*0.333+1))
color="red";else if(i<=Math.floor(digits*0.666+1))
color="yellow";else
color="green";}
if(!vm_project.sld[si.s].o[si.i].radial_stroke)
renderRegularUnit(ctx,si,i,color,bright);else
renderBall(ctx,si,i,color,bright);}
if(!vm_project.sld[si.s].o[si.i].text==""){ctx.save();ctx.fillStyle=vm_project.sld[si.s].o[si.i].textColor;if(!vm_project.sld[si.s].o[si.i].radial_stroke)
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)+" "+vm_project.sld[si.s].o[si.i].text),$("#el"+id).find("canvas")[0],18,(22*vm_project.sld[si.s].o[si.i].i_digits+10),18,"helvetica","normal","normal");else
renderVectorText(String(parseInt(vm_project.sld[si.s].o[si.i].anim_param1)+" "+vm_project.sld[si.s].o[si.i].text),$("#el"+id).find("canvas")[0],16,(22*vm_project.sld[si.s].o[si.i].i_digits+5),18,"helvetica","normal","normal");ctx.restore();}}
function add_textwidget(x,y,frame_num,type){frame[frame_num].html_type=1;frame[frame_num].need_update=1;frame[frame_num].update=0;frame[frame_num].noah=1;if(window['offline_mode']!=1)
frame[frame_num].image="";if(!frame[frame_num].url&&window['offline_mode']!=1){frame[frame_num].url=stage_mode_data[0];}
if(published_mode&&window['offline_mode']!=1)frame[frame_num].url="../"+frame[frame_num].url;if($("#loader").length<1)
$("body").append('<div id="loader" style="top: 45%; left: 43%;position:absolute"><div><img src="i/loader.gif" alt="loader"><div>WORKING. STANDBY...</div></div></div>');if(type=="full"&&frame_num==0&&Timeline.getGlobalInstance().dev_mode==1)
{show_overlay();$(".stage_slide"+vm_project.sld[vm_settings.current_slide].id).height();}
frame[frame_num].ajax_request_id=++ajax_request_id;if(window["loadingprocessinit"])
loadingprocessinit();if(window['offline_mode']!=1)
$.ajax({url:frame[frame_num].url,type:'POST',data:{id:ajax_request_id},dataType:'text',success:function(data){var id=Number(this.data.replace("id=",""));for(var i=0;i<frame.length;i++)
{if(frame[i]&&id==frame[i].ajax_request_id)
{data=data.split("<svg");frame[i].image=data;frame[i].update=1;frame[i].image="<svg"+data[1];frame[i].width=$(frame[i].image).attr("width").replace("px","");frame[i].height=$(frame[i].image).attr("height").replace("px","");if(Timeline.getGlobalInstance().dev_mode)
generate_icon(i);if(window["loadingprocessinit"]){loadingprocessfinish();}}
if($("#loader").length>0){$("#loader").hide();hide_overlay();}}}});focused=1;frame[frame_num].update=0;frame[frame_num].need_update=1;frame[frame_num].object=new Kinetic.Shape(function(backstage_mode){if(!frame[this.frame_index].image)return;if(frame[this.frame_index].update==1){if(Timeline.getGlobalInstance().dev_mode){var max_layer=stage.layers.layer.length-1;var layer_canvas=stage.layers.layer[max_layer-this.frame_index].getCanvas();}
else{if(current_slide==(slides.length-1))
{var max_layer=(frame.length-1)-slides[current_slide].first_frame+slides[current_slide].first_frame;var layer_canvas=stage.layers.layer[max_layer-this.frame_index+slides[current_slide].first_frame].getCanvas()}
else
{var max_layer=slides[current_slide+1].first_frame-1;var layer_canvas=stage.layers.layer[max_layer-this.frame_index+slides[current_slide].first_frame].getCanvas()}}
if(this.html_el&&(!this.html_el.hasClass("div_svg"+this.frame_index)||!this.html_el.parent().length)){frame[this.frame_index].update=1;stage.resetCanvas(this.frame_index);}
if(this.html_el&&!this.html_el.hasClass("div_svg"+this.frame_index))
{this.html_el.remove();this.html_el=null;}
if($(".div_svg"+this.frame_index).length<1||($(".div_svg"+this.frame_index).html()==""&&frame[this.frame_index].image))
{$(layer_canvas).after("<div class='divsvg div_svg"+this.frame_index+"' style='width:"+frame[frame_num].width+";height:"+frame[frame_num].height+"'>"+frame[this.frame_index].image+"</div>");this.html_el=$(".div_svg"+this.frame_index);this.html_el.find("svg").attr("width","100%");this.html_el.find("svg").attr("height","100%");this.width=frame[this.frame_index].width;this.height=frame[this.frame_index].height;var text_el=this.html_el.find("text");var text_lines=1;if(text_el.find("tspan").length>0){text_el=text_el.find("tspan");text_lines=text_el.length;}
if(this.html_el)
this.apply_csstransform(this.html_el);if(!frame[this.frame_index].text){var top=text_el.eq(0).offset().top/globalzoom-this.html_el.find("svg").offset().top/globalzoom;var left=text_el.eq(0).offset().left/globalzoom-this.html_el.find("svg").offset().left/globalzoom;frame[this.frame_index].text1_top=top;frame[this.frame_index].text1_left=left;frame[this.frame_index].text="";frame[this.frame_index].t_maxsize=[];for(i=0;i<text_lines;i++){var fill=text_el.eq(i).css("fill");var font_family=text_el.eq(i).css("font-family");var font_size=text_el.eq(i).css("font-size");frame[this.frame_index].t_maxsize[i]=font_size;if(font_family.toLowerCase().indexOf("italic")!==-1)
var italic="font-style:italic;";else
var italic="";if(font_family.toLowerCase().indexOf("bold")!==-1)
var bold="font-weight:bold;";else
var bold="";if(font_family.toLowerCase().indexOf("light")!==-1&&font_family.toLowerCase().indexOf("lato")!==-1)
var bold="font-weight:300;";else
var bold="";jQuery.each(fonts,function(index,value){if(font_family.toLowerCase().indexOf(value.toLowerCase())!==-1)font_family=value;});text_el.eq(i).remove();frame[this.frame_index].text+="<span style='color:"+fill+";"+bold+italic+"font-size:"+parseInt(font_size)+"px;font-family:"+font_family+"'>"+text_el.eq(i).text()+"</span>";}}
if(this.html_el.find("text").length>0){frame[this.frame_index].text_width=this.html_el.find("text").width();this.html_el.find("text").remove();}
this.html_el.append("<div class='svg_text' id='svg_text"+this.frame_index+"' style='position:absolute;width:"+frame[this.frame_index].text_width+"px;top:"+frame[this.frame_index].text1_top+"px;left:"+frame[this.frame_index].text1_left+"px'>"+frame[this.frame_index].text+"</div>")
stage.resetCanvas(this.frame_index);}
var el_y=frame[this.frame_index].scaleY*frame[this.frame_index].text1_top-frame[this.frame_index].text1_top
+($(".svg_text",this.html_el).height()*frame[this.frame_index].scaleY-$(".svg_text",this.html_el).height())/2;var el_x=frame[this.frame_index].scaleX*frame[this.frame_index].text1_left-frame[this.frame_index].text1_left
+($(".svg_text",this.html_el).width()*frame[this.frame_index].scaleX-$(".svg_text",this.html_el).width())/2;$(".svg_text",this.html_el).css({"top":frame[this.frame_index].text1_top,"left":frame[this.frame_index].text1_left,"-ms-transform":"translate("+el_x+"px, "+el_y+"px) scale("+frame[this.frame_index].scaleX+","+frame[this.frame_index].scaleY+")","-webkit-transform":"translate("+el_x+"px, "+el_y+"px) scale("+frame[this.frame_index].scaleX+","+frame[this.frame_index].scaleY+")","transform":"translate("+el_x+"px, "+el_y+"px) scale("+frame[this.frame_index].scaleX+","+frame[this.frame_index].scaleY+")","-moz-transform":"translate("+el_x+"px, "+el_y+"px) scale("+frame[this.frame_index].scaleX+","+frame[this.frame_index].scaleY+")",});if(!frame[this.frame_index].color&&$("#Color1_1_",this.html_el).length>0)
{frame[this.frame_index].color=$("#Color1_1_",this.html_el).css("fill");}
else if($("#Color1_1_",this.html_el).length<1)frame[this.frame_index].color="false";else
{$("#Color1_1_",this.html_el).css("fill",frame[this.frame_index].color)}
if(!frame[this.frame_index].color2&&$("#Color2_1_",this.html_el).length>0)
{frame[this.frame_index].color2=$("#Color2_1_",this.html_el).css("fill");if(Timeline.getGlobalInstance().dev_mode==1)$(".color_picker_div").eq(1).show();}
else if($("#Color2_1_",this.html_el).length<1)frame[this.frame_index].color2="false";else
{$("#Color2_1_",this.html_el).css("fill",frame[this.frame_index].color2)}
if(!frame[this.frame_index].color3&&$("#Color3_1_",this.html_el).length>0)
{frame[this.frame_index].color3=$("#Color3_1_",this.html_el).css("fill");if(Timeline.getGlobalInstance().dev_mode==1)$(".color_picker_div").eq(2).show();}
else if($("#Color3_1_",this.html_el).length<1)frame[this.frame_index].color3="false";else
{$("#Color3_1_",this.html_el).css("fill",frame[this.frame_index].color3)}
frame[this.frame_index].update=0;if(this.handles){positionCornerHandles(frame[this.frame_index].object);positionRotateHandles(frame[this.frame_index].object);}}
if(this.html_el)
this.apply_csstransform(this.html_el);});if(type=="full"&&Timeline.getGlobalInstance().dev_mode==1){if(!icon_counter)var icon_counter=0;setup_object(frame_num,"Icon "+icon_counter);Timeline.getGlobalInstance().initTracks();Timeline.getGlobalInstance().rebuildSelectedTracks();Timeline.getGlobalInstance().forceupdate();Timeline.getGlobalInstance().SetActiveTrack(0);stage_mode=0;drop=0;grid_rect.moveToTop();}else{if($("#loader").length>0){$("#loader").hide();hide_overlay();}}
if(Timeline.getGlobalInstance().dev_mode==1)
frame[frame_num].object.on("dblclick",function()
{start_text_edit(1);});}
function chart(id,index,params)
{$.ajaxPrefilter("json script",function(options){options.crossDomain=true;});$.ajaxSetup({cache:true});var slash="";if(window.location.protocol!="file:")slash="/";if(typeof Flotr==='undefined'){if(vm_settings.edit_mode&&vm_settings.state!="loading"){vm_EditorGUI.show_overlay(0,1)}
if(vm_settings.state=="loading")vm_settings.ajax_request++;jQuery.getScript(slash+'js/libs/flotr2.js',$.proxy(function(data,textStatus,jqxhr){init_chart(id,index,params,this.sld);if(vm_settings.edit_mode)
update_mini_copy(vm_project.sld[this.sld].o[index],this.sld);if(vm_settings.state=="loading")finish_loading();else
if(vm_settings.edit_mode)update_panel(vm_project.sld[this.sld].o[index].t);},{sld:vm_settings.current_slide}));}
else
{init_chart(id,index,params);if(vm_settings.edit_mode)
update_mini_copy(vm_project.sld[vm_settings.current_slide].o[index],vm_settings.current_slide)}}
function init_chart(id,index,params,sld)
{if(sld==undefined)sld=vm_settings.current_slide;vm_project.sld[sld].o[index].u=1;if(vm_settings.status!="loading"&&!vm_project.sld[sld].o[index].w)
{vm_project.sld[sld].o[index].w=300;vm_project.sld[sld].o[index].h=300;}
vm_Stage.append_new_object("<div class='chart_div' style='width: "+vm_project.sld[sld].o[index].w+"px; height:  "+vm_project.sld[sld].o[index].h+"px; position: relative;'><canvas class='chart_canvas' width=' "+vm_project.sld[sld].o[index].w+"' height=' "+vm_project.sld[sld].o[index].h+"' /></div>",index,sld,true);if(vm_settings.state!="loading"&&vm_settings.edit_mode&&params)
jQuery.getScript('js/libs/tables.js',function(){window["show_edit_dialog"](true);});if(vm_settings.edit_mode)
{$("#content #el"+vm_project.sld[sld].o[index].id).dblclick(function(){jQuery.getScript('js/libs/tables.js',function(){window["show_edit_dialog"](false);});})}
var si={i:index,s:sld};if(!params)
update_chart(si)}
function update_chart(si)
{var id=vm_project.sld[si.s].o[si.i].id;if(vm_project.sld[si.s].o[si.i].ct=="pie_charts")
vm_project.sld[si.s].o[si.i].data_max=vm_project.sld[si.s].o[si.i].anim_param1/100;if(vm_project.sld[si.s].o[si.i].anim_param1<100&&vm_project.sld[si.s].o[si.i].ct!="pie_charts")
{for(i=0;i<vm_project.sld[si.s].o[si.i].data.length;i++)
{switch(vm_project.sld[si.s].o[si.i].ct)
{case"vertical_bar":vm_project.sld[si.s].o[si.i].animate_data[i][1]=parseFloat(vm_project.sld[si.s].o[si.i].data[i][1])*(vm_project.sld[si.s].o[si.i].anim_param1/100);break;case"horizontal_bar":vm_project.sld[si.s].o[si.i].animate_data[i][0]=parseFloat(vm_project.sld[si.s].o[si.i].data[i][0])*(vm_project.sld[si.s].o[si.i].anim_param1/100);break;case"line_chart":vm_project.sld[si.s].o[si.i].animate_data[i][1]=parseFloat(vm_project.sld[si.s].o[si.i].data[i][1])*(vm_project.sld[si.s].o[si.i].anim_param1/100);break;case"area_chart":vm_project.sld[si.s].o[si.i].animate_data[i][1]=parseFloat(vm_project.sld[si.s].o[si.i].data[i][1])*(vm_project.sld[si.s].o[si.i].anim_param1/100);break;}}}
else
{if(vm_project.sld[si.s].o[si.i].ct!="pie_charts"){if(!vm_project.sld[si.s].o[si.i].data)return false;vm_project.sld[si.s].o[si.i].animate_data=vm_project.sld[si.s].o[si.i].data.map(function(arr)
{return arr.slice();});}
else
vm_project.sld[si.s].o[si.i].animate_data=vm_project.sld[si.s].o[si.i].data;}
$("#el"+id).find(".chart_div").css("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find(".chart_div").css("height",vm_project.sld[si.s].o[si.i].h);$("#el"+id).find(".chart_div canvas").css("width",vm_project.sld[si.s].o[si.i].w);$("#el"+id).find(".chart_div canvas").css("height",vm_project.sld[si.s].o[si.i].h);draw_chart($("#el"+id).find(".chart_div")[0],vm_project.sld[si.s].o[si.i].ct,vm_project.sld[si.s].o[si.i].data,vm_project.sld[si.s].o[si.i].data_max,vm_project.sld[si.s].o[si.i].chart_labels,vm_project.sld[si.s].o[si.i]);}
function draw_chart(canvas,type,data,data_max,labels,settings)
{switch(type)
{case"vertical_bar":draw_v_bar_graph(canvas,data,data_max,labels,settings)
break;case"horizontal_bar":draw_h_bar_graph(canvas,data,data_max,labels,settings)
break;case"pie_charts":draw_pie_chart(canvas,data,data_max,settings)
break;case"line_chart":draw_line_chart(canvas,data,data_max,settings)
break;case"area_chart":draw_area_chart(canvas,data,data_max,settings)
break;}}
function draw_v_bar_graph(canvas,data,data_max,labels,settings)
{Flotr.draw(canvas,[data],{fontColor:settings.fontColor,colors:$(".selected").css,HtmlText:false,title:settings.title,subtitle:settings.subtitle,bars:{shadowSize:0,show:true,horizontal:false,lineWidth:0,barWidth:0.5,fill:true,fillColor:{colors:settings.c,start:'top',end:'bottom'},fillOpacity:1},mouse:{track:true,relative:true,},yaxis:{min:0,max:data_max,autoscaleMargin:1,showLabels:settings.axis},xaxis:{showLabels:settings.axis,tickDecimals:0,showMinorLabels:false,tickFormatter:function(x){if(!settings.legend)return"";var
labels_l=labels;;if(labels_l)
return labels_l[(x)];}},grid:{outlineWidth:settings.grid,outline:'ws',verticalLines:false,horizontalLines:settings.grid,color:"#9B9B9B",backgroundColor:settings.bgColor}});}
function draw_h_bar_graph(canvas,data,data_max,labels,settings)
{Flotr.draw(canvas,[data],{HtmlText:false,fontColor:settings.fontColor,title:settings.title,subtitle:settings.subtitle,bars:{show:true,horizontal:true,shadowSize:0,barWidth:0.5,lineWidth:0,fill:true,fillColor:{colors:settings.c,start:'top',end:'bottom'},fillOpacity:1},mouse:{track:true,relative:true},yaxis:{tickDecimals:0,showLabels:settings.axis,showMinorLabels:false,tickFormatter:function(x){var
labels_l=labels;;if(labels_l)
return labels_l[(x)];}},xaxis:{min:0,autoscaleMargin:1,max:data_max,showLabels:settings.axis,},grid:{outlineWidth:settings.grid,outline:'ws',verticalLines:settings.grid,horizontalLines:false,color:"#9B9B9B",backgroundColor:settings.bgColor}});}
function draw_pie_chart(canvas,data,data_max,settings)
{if(!data_max)data_max=1;Flotr.draw(canvas,data,{HtmlText:false,fontColor:settings.fontColor,title:settings.title,subtitle:settings.subtitle,grid:{verticalLines:false,horizontalLines:false,backgroundColor:settings.bgColor,outlineWidth:settings.grid},colors:settings.c,mouse:{track:true,relative:true},xaxis:{showLabels:false},yaxis:{showLabels:false},pie:{show:true,explode:6/data_max,fillOpacity:1},legend:{position:'se',backgroundColor:'#F0F0F0',show:settings.legend}});}
function draw_line_chart(canvas,data,data_max,settings)
{Flotr.draw(canvas,[{data:data,points:{show:true}}],{HtmlText:false,fontColor:settings.fontColor,colors:settings.c,title:settings.title,subtitle:settings.subtitle,lines:{show:true,fill:false},xaxis:{minorTickFreq:4,autoscale:true,autoscaleMargin:1,showLabels:settings.axis},legend:{position:'nw'},yaxis:{autoscale:true,autoscaleMargin:1,max:data_max,showLabels:settings.axis},grid:{minorVerticalLines:settings.grid,verticalLines:settings.grid,horizontalLines:settings.grid,outlineWidth:settings.grid,outline:'ws',backgroundColor:settings.bgColor}});}
function draw_area_chart(canvas,data,data_max,settings)
{Flotr.draw(canvas,[data],{fontColor:settings.fontColor,HtmlText:false,colors:settings.c,title:settings.title,subtitle:settings.subtitle,lines:{show:true,fill:true},xaxis:{minorTickFreq:4,autoscale:false,autoscaleMargin:0,showLabels:settings.axis},yaxis:{autoscale:false,autoscaleMargin:0,max:data_max,showLabels:settings.axis},grid:{minorVerticalLines:settings.grid,verticalLines:settings.grid,horizontalLines:settings.grid,outlineWidth:settings.grid,outline:'ws',backgroundColor:settings.bgColor}});}